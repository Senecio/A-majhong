require=function e(t,n,a){function i(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[r]={exports:{}};t[r][0].call(l.exports,function(e){var n=t[r][1][e];return i(n?n:e)},l,l.exports,e,t,n,a)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<a.length;r++)i(a[r]);return i}({AudioMng:[function(e,t,n){"use strict";cc._RF.push(t,"a2f35VHzSRPj4U9zkTgB+ml","AudioMng");var a=cc.Class({"extends":cc.Component,properties:{winAudio:{"default":null,url:cc.AudioClip},loseAudio:{"default":null,url:cc.AudioClip},gangAudio:{"default":null,url:cc.AudioClip},pengAudio:{"default":null,url:cc.AudioClip},kanAudio:{"default":null,url:cc.AudioClip},jiangAudio:{"default":null,url:cc.AudioClip},niuAudio:{"default":null,url:cc.AudioClip},addNiuAudio:{"default":null,url:cc.AudioClip},tingAudio:{"default":null,url:cc.AudioClip},huAudio:{"default":null,url:cc.AudioClip},cardsAudio:{"default":[],type:[cc.AudioClip]},buttonAudio:{"default":null,url:cc.AudioClip},login:{"default":null,url:cc.AudioClip},home:{"default":null,url:cc.AudioClip},game:{"default":null,url:cc.AudioClip}},statics:{inst:null},onLoad:function(){a.inst=this},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},playLoginMusic:function(){var e=cc.audioEngine.playMusic(this.login,!0);cc.audioEngine.setVolume(e,.2)},playHomeMusic:function(){var e=cc.audioEngine.playMusic(this.home,!0);cc.audioEngine.setVolume(e,.2)},playGameMusic:function(){var e=cc.audioEngine.playMusic(this.game,!0);cc.audioEngine.setVolume(e,.2)},pauseMusic:function(){cc.audioEngine.pauseMusic()},resumeMusic:function(){cc.audioEngine.resumeMusic()},_playSFX:function(e){cc.audioEngine.playEffect(e,!1)},playButton:function(){this._playSFX(this.buttonAudio)},playPeng:function(){this._playSFX(this.pengAudio)},playGang:function(){this._playSFX(this.gangAudio)},playKan:function(){this._playSFX(this.kanAudio)},playJiang:function(){this._playSFX(this.jiangAudio)},playNiu:function(){this._playSFX(this.niuAudio)},playAddNiu:function(){this._playSFX(this.addNiuAudio)},playTing:function(){this._playSFX(this.tingAudio)},playHu:function(){this._playSFX(this.huAudio)},playCard:function(e){this._playSFX(this.cardsAudio[e])}});cc._RF.pop()},{}],ButtonScaler:[function(e,t,n){"use strict";cc._RF.push(t,"75ab2NzszVJfrt4+z6hBKqE","ButtonScaler"),cc.Class({"extends":cc.Component,properties:{pressedScale:.85,transDuration:.1},onLoad:function(){function e(e){n.node.scale=n.initScale,n.node.stopAllActions();var t=AudioMng();t&&t.playButton(),n.node.runAction(n.scaleDownAction)}function t(e){n.node.stopAllActions(),n.node.runAction(n.scaleUpAction)}var n=this;n.initScale=n.node.scale,n.scaleDownAction=cc.scaleTo(n.transDuration,n.pressedScale),n.scaleUpAction=cc.scaleTo(n.transDuration,n.initScale),this.node.on("touchstart",e,this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],ButtonSound:[function(e,t,n){"use strict";cc._RF.push(t,"ff0cdnJdoZK+oIJBxXGa/53","ButtonSound"),cc.Class({"extends":cc.Component,onLoad:function(){function e(e){var t=AudioMng();t&&t.playButton()}function t(e){this.stopAllActions()}this.node.on("touchstart",e,this.node),this.node.on("touchend",t,this.node),this.node.on("touchcancel",t,this.node)}}),cc._RF.pop()},{}],Utility:[function(e,t,n){"use strict";cc._RF.push(t,"8eb34mspuREyIpR3c0Q7jV4","Utility");var a={};a.FindIndexById=function(e,t){for(var n=0;n<e.length;++n)if(e[n].id===t)return n;return-1},a.Clamp=function(e,t,n){var a=e;if(t>n){var i=n;n=t,t=i}return a<t&&(a=t),a>n&&(a=n),a},a.RandomRange=function(e,t){if(e>t){var n=t;t=e,e=n}return Math.floor(Math.random()*(t-e+1))+e},a.ArrayRemoveElemnt=function(e,t){var n=e.indexOf(t);return n>-1&&(e.splice(n,1),!0)},a.ArrayZero=function(e){for(var t=0;t<e.length;++t)e[t]=0},a.Degrees=function(e){return e*(180/Math.PI)},a.Radians=function(e){return e/(180/Math.PI)},"undefined"!=typeof t&&(t.exports=a),cc._RF.pop()},{}],Voice:[function(e,t,n){"use strict";function a(){}cc._RF.push(t,"5fb4aCgOZ9Gt7xVM+WANBcr","Voice"),a.prototype.Init=function(){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&(jsb.reflection.callStaticMethod("GVoice","Init:","o73Rhv5WqgqwfqFK3l0dd2_KEgZ8"),jsb.reflection.callStaticMethod("GVoice","ApplyMessageKey:",6e4))},a.prototype.SetUploadCallback=function(e){this.uploadCallback=e},a.prototype.UploadCallback=function(e){"function"==typeof this.uploadCallback&&this.uploadCallback(e)},a.prototype.SetPlayRecordedFileEndCallback=function(e){this.playEndCallback=e},a.prototype.PlayRecordedFileEnd=function(e){"function"==typeof this.playEndCallback&&this.playEndCallback(e)},a.prototype.StartRecording=function(e){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","StartRecording:",e)},a.prototype.StopRecording=function(){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","StopRecording")},a.prototype.UploadRecordedFile=function(e){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","UploadRecordedFile:",e)},a.prototype.DownloadRecordedFile=function(e,t){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","DownloadRecordedFile:SaveFilePath:",e,t)},a.prototype.PlayRecordedFile=function(e){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","PlayRecordedFile:",e)},a.prototype.StopPlayRecordedFile=function(){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","StopPlayRecordedFile")},a.prototype.Poll=function(){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("GVoice","Poll")},a.prototype.GetMicLevel=function(){var e=jsb.reflection.callStaticMethod("GVoice","GetMicLevel");return e},a.prototype.GetRecordedSeconds=function(e){var t=jsb.reflection.callStaticMethod("GVoice","GetRecordedSeconds:",e);return t},"undefined"!=typeof t&&(t.exports=a),cc._RF.pop()},{}],accounts:[function(e,t,n){"use strict";cc._RF.push(t,"4856bcPWYxM4YUZRaDYnex6","accounts");var a=new cc.Color(168,120,20),i=new cc.Color(128,128,128);cc.Class({"extends":cc.Component,properties:{heads:{"default":[],type:cc.Node},cards:{"default":[],type:cc.Node},scores:{"default":[],type:cc.Label},singleScores:{"default":[],type:cc.Label},shareBtn:cc.Button,continueBtn:cc.Button,roomId:cc.Label,remain:cc.Label,quan:cc.Label,hunCount:cc.Label,zhuang:cc.Label,zatouzi:cc.Label,niu:cc.Label,cardPrefab:cc.Prefab,gapPrefab:cc.Prefab,gangPrefab:cc.Prefab,pengPrefab:cc.Prefab,jiangPrefab:cc.Prefab},onLoad:function(){},OnShow:function(){this.node.active=!0,this.SetTitleInfo(),this.SetHeads(),this.SetCards(),this.SetScore()},OnHide:function(){this.node.active=!1},SetTitleInfo:function(){this.remain.string="剩余:66张","number"==typeof GameData.userRoomData.remainNum&&(this.remain.string="剩余:"+GameData.userRoomData.remainNum+"张");var e=1===GameData.userRoomData.quanId?1:4,t=GameData.userRoomData.playCount,n="undefined"==typeof t?0:Math.floor(t/4)+1;this.quan.string=n+"/"+e+"圈",this.hunCount.string="荤低:"+GameData.userRoomData.hunCount,this.zhuang.node.color=1===(1&GameData.userRoomData.ruleId)?a:i,this.zatouzi.node.color=4===(4&GameData.userRoomData.ruleId)?a:i,this.niu.node.color=2===(2&GameData.userRoomData.ruleId)?a:i,this.roomId.string="房间:"+GameData.userRoomData.id},SetCards:function(){for(var e,t,n,a,i,o,r,s,c,d,l,h,u=0;u<4;++u){for(e=GameData.players[u],t=e.cards,n=e.niuCards,a=e.gangCards,i=e.kanCards,o=e.pengCards,r=e.jiangCards,this.cards[u].removeAllChildren(),l=0;n&&l<n.length;l+=3){for(s=cc.instantiate(this.pengPrefab),d=s.children,h=0;h<d.length;h++)c=d[h].getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[3][45+h];this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(this.gapPrefab)),l+=13}for(l=0;a&&l<a.length;l+=4)s=cc.instantiate(this.gangPrefab),c=s.getChildByName("card4").getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[3][a[l]],this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(this.gapPrefab));for(l=0;i&&l<i.length;l+=3){for(s=cc.instantiate(this.pengPrefab),d=s.children,h=0;h<d.length;h++)c=d[h].getComponent(cc.Sprite),1===h?c.spriteFrame=CardSpriteFrameCache[3][i[l]]:c.spriteFrame=CardSpriteFrameCache[3][10];this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(this.gapPrefab))}for(l=0;o&&l<o.length;l+=3){for(s=cc.instantiate(this.pengPrefab),d=s.children,h=0;h<d.length;h++)c=d[h].getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[3][o[l]];this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(this.gapPrefab))}for(l=0;r&&l<r.length;l+=2){for(s=cc.instantiate(jiangPrefab),d=s.children,h=0;h<d.length;h++)c=d[h].getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[3][r[l]];this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(gapPrefab))}for(var p=0;p<t.length;++p)s=cc.instantiate(this.cardPrefab),c=s.getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[4][t[p]],GameData.huPlace===u&&p===t.length-1?(t.length-1)%3!==0?(this.cards[u].addChild(cc.instantiate(this.gapPrefab)),this.cards[u].addChild(s)):(this.cards[u].addChild(s),this.cards[u].addChild(cc.instantiate(this.gapPrefab)),s=cc.instantiate(this.cardPrefab),c=s.getComponent(cc.Sprite),c.spriteFrame=CardSpriteFrameCache[4][GameData.huCard],this.cards[u].addChild(s)):this.cards[u].addChild(s)}},SetHeads:function(){GameLog(GameData);for(var e,t,n=0;n<4;++n){t=GameData.players[n],e=this.heads[n];var a=e.getChildByName("headIcon").getComponent(cc.Sprite);SetSpriteImage(a,{url:t.headUrl,type:"jpg"}),GameData.userRoomData.bankerPlace===n?e.getChildByName("zhuang").active=!0:e.getChildByName("zhuang").active=!1,GameData.userRoomData.ownerId===t.id?e.getChildByName("root").active=!0:e.getChildByName("root").active=!1,GameData.huPlace===n?e.getChildByName("hu").active=!0:e.getChildByName("hu").active=!1}},SetScore:function(){for(var e=0;e<GameData.players.length;++e)this.scores[e].string=GameData.players[e].score,GameData.players[e].singleScore>=0?this.singleScores[e].string="+"+GameData.players[e].singleScore:this.singleScores[e].string=GameData.players[e].singleScore}}),cc._RF.pop()},{}],all:[function(e,t,n){"use strict";cc._RF.push(t,"3014bU4f/xFxLrxAXHVCBWl","all"),e("./errorHandler.js"),e("./gameHandler.js"),e("./loginHandler.js"),cc._RF.pop()},{"./errorHandler.js":"errorHandler","./gameHandler.js":"gameHandler","./loginHandler.js":"loginHandler"}],createRoom:[function(e,t,n){"use strict";cc._RF.push(t,"5868dsG77lL0KthZftKMNrB","createRoom"),cc.Class({"extends":cc.Component,properties:{closeBtn:cc.Button,createRoomBtn:cc.Button,ruleRadioButton:{"default":[],type:cc.Toggle},juRadioButton:{"default":[],type:cc.Toggle},_juCurrentToggle:cc.Toggle,_juToggleId:cc.Integer,sliderBar:cc.Slider,progressBar:cc.ProgressBar,hunCount:cc.Label},onLoad:function(){this.closeBtn.node.on("click",this.OnHide,this),this.createRoomBtn.node.on("click",this.OnCreateRoom,this),this.sliderBar.progress=.2,this.hunCount.string="20",this.progressBar.progress=this.sliderBar.progress,this.createRoomBtn.interactable=!0,this.juRadioButton[1].check(),this._juToggleId=2},OnShow:function(){this.node.active=!0,this.createRoomBtn.interactable=!0},OnHide:function(){this.node.active=!1},OnCreateRoom:function(){this.createRoomBtn.interactable=!1;for(var e=0,t=0;t<this.ruleRadioButton.length;++t)this.ruleRadioButton[t].isChecked&&(e|=1<<t);var n=this._juToggleId,a=Math.ceil(10*this.progressBar.progress)/10*100;GameSocket().Send("createRoom",{ruleId:e,quanId:n,hunCount:a}),Notify().PlayWaitSrv()},OnSlider:function(e){var t=e.progress,n=Math.ceil(10*t)/10;this.sliderBar.progress=n,this.progressBar.progress=n,this.hunCount.string=""+100*n},OnRuleRadioChange:function(e,t){var n=AudioMng();n&&n.playButton()},OnJuRadioChange:function(e,t){this._juCurrentToggle!==e&&(this._juCurrentToggle=e,this._juToggleId=parseInt(t));var n=AudioMng();n&&n.playButton()}}),cc._RF.pop()},{}],description:[function(e,t,n){"use strict";cc._RF.push(t,"19937pLnWFIHLzVECH7VswI","description"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){},OnShow:function(){this.node.active=!0},OnHide:function(){this.node.active=!1}}),cc._RF.pop()},{}],errorHandler:[function(e,t,n){"use strict";cc._RF.push(t,"bd552RgjcFNWZyPFKBivbOX","errorHandler");var a=e("msgHandler"),i={};i.interest="gameError",i.Process=function(e){GameLog(e),Notify().Play(e.msg)},a.Add(i),cc._RF.pop()},{msgHandler:"msgHandler"}],"fingerprint2.min":[function(e,t,n){"use strict";cc._RF.push(t,"5d91dLzdgRNc4WTGhgAzfLX","fingerprint2.min"),!function(e,n,a){"function"==typeof define&&define.amd?define(a):"undefined"!=typeof t&&t.exports?t.exports=a():n.exports?n.exports=a():n[e]=a()}("Fingerprint2",void 0,function(){var e=function t(e){if(!(this instanceof t))return new t(e);var n={swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[]};this.options=this.extend(e,n),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map};return e.prototype={extend:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t},get:function(e){var t=[];t=this.userAgentKey(t),t=this.languageKey(t),t=this.colorDepthKey(t),t=this.pixelRatioKey(t),t=this.hardwareConcurrencyKey(t),t=this.screenResolutionKey(t),t=this.availableScreenResolutionKey(t),t=this.timezoneOffsetKey(t),t=this.sessionStorageKey(t),t=this.localStorageKey(t),t=this.indexedDbKey(t),t=this.addBehaviorKey(t),t=this.openDatabaseKey(t),t=this.cpuClassKey(t),t=this.platformKey(t),t=this.doNotTrackKey(t),t=this.pluginsKey(t),t=this.canvasKey(t),t=this.webglKey(t),t=this.adBlockKey(t),t=this.hasLiedLanguagesKey(t),t=this.hasLiedResolutionKey(t),t=this.hasLiedOsKey(t),t=this.hasLiedBrowserKey(t),t=this.touchSupportKey(t),t=this.customEntropyFunction(t);var n=this;this.fontsKey(t,function(t){var a=[];n.each(t,function(e){var t=e.value;"undefined"!=typeof e.value.join&&(t=e.value.join(";")),a.push(t)});var i=n.x64hash128(a.join("~~~"),31);return e(i,t)})},customEntropyFunction:function(e){return"function"==typeof this.options.customFunction&&e.push({key:"custom",value:this.options.customFunction()}),e},userAgentKey:function(e){return this.options.excludeUserAgent||e.push({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.push({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.push({key:"color_depth",value:screen.colorDepth||-1}),e},pixelRatioKey:function(e){return this.options.excludePixelRatio||e.push({key:"pixel_ratio",value:this.getPixelRatio()}),e},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&screen.height>screen.width?[screen.height,screen.width]:[screen.width,screen.height],"undefined"!=typeof t&&e.push({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return screen.availWidth&&screen.availHeight&&(t=this.options.detectScreenOrientation?screen.availHeight>screen.availWidth?[screen.availHeight,screen.availWidth]:[screen.availWidth,screen.availHeight]:[screen.availHeight,screen.availWidth]),"undefined"!=typeof t&&e.push({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.push({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.push({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.push({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.push({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return document.body&&!this.options.excludeAddBehavior&&document.body.addBehavior&&e.push({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.push({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.push({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.push({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.push({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.push({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return this.options.excludeWebGL?e:this.isWebGlSupported()?(e.push({key:"webgl",value:this.getWebglFp()}),e):e},adBlockKey:function(e){return this.options.excludeAdBlock||e.push({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.push({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.push({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.push({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.push({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(e,t){return this.options.excludeFlashFonts?t(e):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?"undefined"==typeof this.options.swfPath?t(e):void this.loadSwfAndDetectFonts(function(n){e.push({key:"swf_fonts",value:n.join(";")}),t(e)}):t(e)},jsFontsKey:function(e,t){var n=this;return setTimeout(function(){var a=["monospace","sans-serif","serif"],i=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],o=["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"];n.options.extendedJsFonts&&(i=i.concat(o)),i=i.concat(n.options.userDefinedFonts);var r="mmmmmmmmmmlli",s="72px",c=document.getElementsByTagName("body")[0],d=document.createElement("div"),l=document.createElement("div"),h={},u={},p=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize=s,e.style.lineHeight="normal",e.innerHTML=r,e},f=function(e,t){var n=p();return n.style.fontFamily="'"+e+"',"+t,n},g=function(){for(var e=[],t=0,n=a.length;t<n;t++){var i=p();i.style.fontFamily=a[t],d.appendChild(i),e.push(i)}return e},m=function(){for(var e={},t=0,n=i.length;t<n;t++){for(var o=[],r=0,s=a.length;r<s;r++){var c=f(i[t],a[r]);l.appendChild(c),o.push(c)}e[i[t]]=o}return e},y=function(e){for(var t=!1,n=0;n<a.length;n++)if(t=e[n].offsetWidth!==h[a[n]]||e[n].offsetHeight!==u[a[n]])return t;return t},C=g();c.appendChild(d);for(var v=0,S=a.length;v<S;v++)h[a[v]]=C[v].offsetWidth,u[a[v]]=C[v].offsetHeight;var R=m();c.appendChild(l);for(var b=[],A=0,P=i.length;A<P;A++)y(R[i[A]])&&b.push(i[A]);c.removeChild(l),c.removeChild(d),e.push({key:"js_fonts",value:b}),t(e)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||e.push({key:"ie_plugins",value:this.getIEPlugins()}):e.push({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){for(var e=[],t=0,n=navigator.plugins.length;t<n;t++)e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){var e=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){var t=["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"];e=this.map(t,function(e){try{return new ActiveXObject(e),e}catch(t){return null}})}return navigator.plugins&&(e=e.concat(this.getRegularPlugins())),e},pluginsShouldBeSorted:function(){for(var e=!1,t=0,n=this.options.sortPluginsFor.length;t<n;t++){var a=this.options.sortPluginsFor[t];if(navigator.userAgent.match(a)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.push({key:"touch_support",value:this.getTouchSupport()}),e},hardwareConcurrencyKey:function(e){return this.options.excludeHardwareConcurrency||e.push({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;"undefined"!=typeof navigator.maxTouchPoints?e=navigator.maxTouchPoints:"undefined"!=typeof navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(n){}var a="ontouchstart"in window;return[e,t,a]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(n.isPointInPath(5,5,"evenodd")===!1?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"},n=function p(e){var t,p=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");return p?(t=e.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT),0===t&&(t=2),t):null};if(e=this.getWebglCanvas(),!e)return null;var a=[],i="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",o="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);var s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),r.itemSize=3,
r.numItems=3;var c=e.createProgram(),d=e.createShader(e.VERTEX_SHADER);e.shaderSource(d,i),e.compileShader(d);var l=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(l,o),e.compileShader(l),e.attachShader(c,d),e.attachShader(c,l),e.linkProgram(c),e.useProgram(c),c.vertexPosAttrib=e.getAttribLocation(c,"attrVertex"),c.offsetUniform=e.getUniformLocation(c,"uniformOffset"),e.enableVertexAttribArray(c.vertexPosArray),e.vertexAttribPointer(c.vertexPosAttrib,r.itemSize,e.FLOAT,!1,0,0),e.uniform2f(c.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,r.numItems),null!=e.canvas&&a.push(e.canvas.toDataURL()),a.push("extensions:"+e.getSupportedExtensions().join(";")),a.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),a.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),a.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),a.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),a.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),a.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),a.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),a.push("webgl max anisotropy:"+n(e)),a.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),a.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),a.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),a.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),a.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),a.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),a.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),a.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),a.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),a.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),a.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),a.push("webgl red bits:"+e.getParameter(e.RED_BITS)),a.push("webgl renderer:"+e.getParameter(e.RENDERER)),a.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),a.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),a.push("webgl vendor:"+e.getParameter(e.VENDOR)),a.push("webgl version:"+e.getParameter(e.VERSION));try{var h=e.getExtension("WEBGL_debug_renderer_info");h&&(a.push("webgl unmasked vendor:"+e.getParameter(h.UNMASKED_VENDOR_WEBGL)),a.push("webgl unmasked renderer:"+e.getParameter(h.UNMASKED_RENDERER_WEBGL)))}catch(u){}return e.getShaderPrecisionFormat?(a.push("webgl vertex shader high float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision),a.push("webgl vertex shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl vertex shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl vertex shader medium float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl vertex shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl vertex shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl vertex shader low float precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).precision),a.push("webgl vertex shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl vertex shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl fragment shader high float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision),a.push("webgl fragment shader high float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMin),a.push("webgl fragment shader high float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).rangeMax),a.push("webgl fragment shader medium float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision),a.push("webgl fragment shader medium float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMin),a.push("webgl fragment shader medium float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).rangeMax),a.push("webgl fragment shader low float precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).precision),a.push("webgl fragment shader low float precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMin),a.push("webgl fragment shader low float precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_FLOAT).rangeMax),a.push("webgl vertex shader high int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).precision),a.push("webgl vertex shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMin),a.push("webgl vertex shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_INT).rangeMax),a.push("webgl vertex shader medium int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).precision),a.push("webgl vertex shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl vertex shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl vertex shader low int precision:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).precision),a.push("webgl vertex shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMin),a.push("webgl vertex shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.LOW_INT).rangeMax),a.push("webgl fragment shader high int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).precision),a.push("webgl fragment shader high int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMin),a.push("webgl fragment shader high int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT).rangeMax),a.push("webgl fragment shader medium int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).precision),a.push("webgl fragment shader medium int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMin),a.push("webgl fragment shader medium int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_INT).rangeMax),a.push("webgl fragment shader low int precision:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).precision),a.push("webgl fragment shader low int precision rangeMin:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMin),a.push("webgl fragment shader low int precision rangeMax:"+e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.LOW_INT).rangeMax),a.join("~")):a.join("~")},getAdBlock:function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(n){t=!1}return t},getHasLiedLanguages:function(){if("undefined"!=typeof navigator.languages)try{var e=navigator.languages[0].substr(0,2);if(e!==navigator.language.substr(0,2))return!0}catch(t){return!0}return!1},getHasLiedResolution:function(){return screen.width<screen.availWidth||screen.height<screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,a=navigator.platform.toLowerCase();e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other";var i;if(i="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,i&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if("undefined"!=typeof n){if(n=n.toLowerCase(),n.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if(0===n.indexOf("win")&&0===n.indexOf("linux")&&n.indexOf("mac")>=0&&"other"!==e)return!0}return a.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(a.indexOf("linux")>=0||a.indexOf("android")>=0||a.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(a.indexOf("mac")>=0||a.indexOf("ipad")>=0||a.indexOf("ipod")>=0||a.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||0===a.indexOf("win")&&0===a.indexOf("linux")&&a.indexOf("mac")>=0&&"other"!==e||"undefined"==typeof navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other",("Chrome"===e||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var a=eval.toString().length;if(37===a&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===a&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===a&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;var i;try{throw"a"}catch(o){try{o.toSource(),i=!0}catch(r){i=!1}}return!(!i||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e,t=document.createElement("canvas");try{e=t.getContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(n){e=!1}return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return"undefined"!=typeof window.swfobject},hasMinFlashInstalled:function(){return swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(e){var t="___fp_swf_loaded";window[t]=function(t){e(t)};var n=this.options.swfContainerId;this.addFlashDivNode();var a={onReady:t},i={allowScriptAccess:"always",menu:"false"};swfobject.embedSWF(this.options.swfPath,n,"1","1","9.0.0",!1,a,i,{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(n){}return t||(t=null),t},each:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var a=0,i=e.length;a<i;a++)if(t.call(n,e[a],a,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(n,e[o],o,e)==={})return},map:function(e,t,n){var a=[];return null==e?a:this.nativeMap&&e.map===this.nativeMap?e.map(t,n):(this.each(e,function(e,i,o){a[a.length]=t.call(n,e,i,o)}),a)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(e,t){return t%=64,32===t?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return t%=64,0===t?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){e=e||"",t=t||0;for(var n=e.length%16,a=e.length-n,i=[0,t],o=[0,t],r=[0,0],s=[0,0],c=[2277735313,289559509],d=[1291169091,658871167],l=0;l<a;l+=16)r=[255&e.charCodeAt(l+4)|(255&e.charCodeAt(l+5))<<8|(255&e.charCodeAt(l+6))<<16|(255&e.charCodeAt(l+7))<<24,255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24],s=[255&e.charCodeAt(l+12)|(255&e.charCodeAt(l+13))<<8|(255&e.charCodeAt(l+14))<<16|(255&e.charCodeAt(l+15))<<24,255&e.charCodeAt(l+8)|(255&e.charCodeAt(l+9))<<8|(255&e.charCodeAt(l+10))<<16|(255&e.charCodeAt(l+11))<<24],r=this.x64Multiply(r,c),r=this.x64Rotl(r,31),r=this.x64Multiply(r,d),i=this.x64Xor(i,r),i=this.x64Rotl(i,27),i=this.x64Add(i,o),i=this.x64Add(this.x64Multiply(i,[0,5]),[0,1390208809]),s=this.x64Multiply(s,d),s=this.x64Rotl(s,33),s=this.x64Multiply(s,c),o=this.x64Xor(o,s),o=this.x64Rotl(o,31),o=this.x64Add(o,i),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,944331445]);switch(r=[0,0],s=[0,0],n){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(l+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(l+8)]),s=this.x64Multiply(s,d),s=this.x64Rotl(s,33),s=this.x64Multiply(s,c),o=this.x64Xor(o,s);case 8:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+7)],56));case 7:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+6)],48));case 6:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+5)],40));case 5:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+4)],32));case 4:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+3)],24));case 3:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+2)],16));case 2:r=this.x64Xor(r,this.x64LeftShift([0,e.charCodeAt(l+1)],8));case 1:r=this.x64Xor(r,[0,e.charCodeAt(l)]),r=this.x64Multiply(r,c),r=this.x64Rotl(r,31),r=this.x64Multiply(r,d),i=this.x64Xor(i,r)}return i=this.x64Xor(i,[0,e.length]),o=this.x64Xor(o,[0,e.length]),i=this.x64Add(i,o),o=this.x64Add(o,i),i=this.x64Fmix(i),o=this.x64Fmix(o),i=this.x64Add(i,o),o=this.x64Add(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}},e.VERSION="1.5.1",e}),cc._RF.pop()},{}],gameData:[function(e,t,n){"use strict";cc._RF.push(t,"8ac22RwtqNGS78+WkKFaKyI","gameData"),function(){var e={loginMenu:[],homeButtons:[],userId:-1,userName:"",userHeadUrl:"",userRoomCard:0,userRoomData:{},selfPlace:-1,players:[null,null,null,null],getCardPlace:-1,huPlace:-1,huCard:0,huCards:[],needFlushCard:!1,resumeGame:!1,selfOperation:null};e.GetUserId=function(){return this.userId},e.GetUserName=function(){return this.userName},e.GetUserHeadUrl=function(){return this.userHeadUrl},e.GetUserRoomCard=function(){return this.userRoomCard},e.GetUserRoomData=function(){return this.userRoomData},e.GetPlayerCount=function(){for(var e=0,t=0;t<this.players.length;++t)this.players[t]&&++e;return e},"undefined"!=typeof t&&(t.exports=e),"undefined"!=typeof window&&(window.GameData=e)}(),cc._RF.pop()},{}],gameEvent:[function(e,t,n){"use strict";cc._RF.push(t,"ead453VPa5BvYmAUE7L3W/T","gameEvent");var a=cc.Class({"extends":cc.Component,statics:{inst:null},onLoad:function(){a.inst=this},OnEvent:function(e,t,n){this.node.on(e,t,n)},OffEvent:function(e,t,n){this.node.off(e,t,n)},SendEvent:function(e,t){this.node.emit(e,t)}});cc._RF.pop()},{}],gameHandler:[function(e,t,n){"use strict";cc._RF.push(t,"5c070Qsq8RA5L64VeQynM9F","gameHandler");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("Utility"),o=e("player"),r=e("msgHandler"),s={};s.interest="reconnectBack",s.Process=function(e){GameEvent().SendEvent("ReconnectBack")},r.Add(s);var c={};c.interest="getRoomRecordBack",c.Process=function(e){GameData.userRoomCard=e.roomCard,GameData.userRoomData=JSON.parse(e.roomData),GameEvent().SendEvent("GetRoomRecordSuccess")},r.Add(c);var d={};d.interest="createRoomBack",d.Process=function(e){GameData.userRoomData=JSON.parse(e),GameEvent().SendEvent("CreateRoomSuccess")},r.Add(d);var l={};l.interest="exitRoomBack",l.Process=function(e){var t=e;"number"==typeof GameData.userRoomData.id&&(GameData.userRoomData.ownerId===t?(GameEvent().SendEvent("ExitRoom"),GameData.selfPlace=-1,GameData.players=new Array(null,null,null,null)):t===GameData.players[GameData.selfPlace].id&&(GameEvent().SendEvent("ExitRoom"),GameData.selfPlace=-1,GameData.players=new Array(null,null,null,null)))},r.Add(l);var h={};h.interest="joinRoomBack",h.Process=function(e){GameData.userRoomData=JSON.parse(e),GameEvent().SendEvent("JoinRoomSuccess")},r.Add(h);var u={};u.interest="newPlayer",u.Process=function(e){var t=e.place,n=e.id,a=e.name,i=e.headUrl,r=new o;r.Init(n,t,a,i),GameData.players[r.place]=r,GameData.selfPlace===-1&&(GameData.selfPlace=t),GameEvent().SendEvent("JoinPlayer",t)},r.Add(u);var p={};p.interest="losePlayer",p.Process=function(e){var t=e.place;GameData.players[t]=null,GameEvent().SendEvent("LosePlayer",t)},r.Add(p);var f={};f.interest="playerOffline",f.Process=function(e){var t=e;GameData.players[t].offline=!0,GameEvent().SendEvent("PlayerOffline",t)},r.Add(f);var g={};g.interest="playerList",g.Process=function(e){for(var t,n,a,i,r,s=0;s<e.length;++s)a=e[s].id,n=e[s].place,i=e[s].name,r=e[s].headUrl,t=new o,t.Init(a,n,i,r),GameData.players[t.place]=t,GameEvent().SendEvent("JoinPlayer",n)},r.Add(g);var m={};m.interest="ready",m.Process=function(e){for(var t=0;t<GameData.players.length;++t)GameData.players[t]&&(GameData.players[t].ready=!1)},r.Add(m);var y={};y.interest="readyOk",y.Process=function(e){var t=e;GameData.players[t]&&(GameData.players[t].ready=!0),GameEvent().SendEvent("PlayerReady",e)},r.Add(y);var C={};C.interest="newGame",C.Process=function(e){if(GameData.userRoomData.bankerPlace=e.bankerPlace,GameData.userRoomData.playCount=e.playCount,GameData.userRoomData.played=e.played,"object"===a(e.totalScore))for(var t=0;t<GameData.players.length;++t)GameData.players[t].totalScore=e.totalScore[t];GameData.huPlace=-1,GameData.huCard=0,GameData.huCards=new Array,GameEvent().SendEvent("NewGame")},r.Add(C);var v={};v.interest="initCards",v.Process=function(e){var t=e.place,n=GameData.players[t];n.Clear(),n.cards=e.cards.slice(),n.cards.sort(),GameEvent().SendEvent("InitCards",e)},r.Add(v);var S={};S.interest="getCard",S.Process=function(e){var t=e.place,n=e.card,a=GameData.players[t];a.cards.push(n),GameData.getCardPlace=t,GameData.userRoomData.remainNum=e.remainNum,GameEvent().SendEvent("GetCard",e)},r.Add(S);var R={};R.interest="throwCard",R.Process=function(e){var t=e.place,n=e.card,a=GameData.players[t];GameData.selfPlace===t?(i.ArrayRemoveElemnt(a.cards,n),a.cards.sort()):a.cards.pop(),"undefined"!=typeof e.huCards&&(GameData.huCards=e.huCards.slice()),GameEvent().SendEvent("ThrowCard",e)},r.Add(R);var b={};b.interest="pengCards",b.Process=function(e){var t=e.place,n=(e.card,GameData.players[t]);n.cards=e.cards.slice(),n.cards.sort(),n.pengCards=e.pengCards.slice(),GameData.getCardPlace=t,GameEvent().SendEvent("PengCards",e)},r.Add(b);var A={};A.interest="gangCards",A.Process=function(e){GameLog(e);var t=e.place,n=(e.card,GameData.players[t]);n.cards=e.cards.slice(),n.cards.sort(),n.gangCards=e.gangCards.slice(),n.kanCards=e.kanCards.slice(),GameData.getCardPlace=t,GameEvent().SendEvent("GangCards",e)},r.Add(A);var P={};P.interest="kanCards",P.Process=function(e){var t=e.place,n=(e.card,GameData.players[t]);n.cards=e.cards.slice(),n.cards.sort(),n.kanCards=e.kanCards.slice(),GameData.getCardPlace=t,GameEvent().SendEvent("KanCards",e)},r.Add(P);var O={};O.interest="niuCards",O.Process=function(e){var t=e.place,n=(e.card,GameData.players[t]);n.cards=e.cards.slice(),n.cards.sort(),n.niuCards=e.niuCards.slice(),GameData.getCardPlace=t,GameEvent().SendEvent("NiuCards",e)},r.Add(O);var G={};G.interest="jiangCards",G.Process=function(e){var t=e.place,n=(e.card,GameData.players[t]);n.cards=e.cards.slice(),n.cards.sort(),n.jiangCards=e.jiangCards.slice(),GameData.getCardPlace=t,GameEvent().SendEvent("JiangCards",e)},r.Add(G);var E={};E.interest="piaoCards",E.Process=function(e){var t=e.place,n=GameData.players[t];n.piao=!0,GameEvent().SendEvent("PiaoCards",e)},r.Add(E);var D={};D.interest="huCards",D.Process=function(e){var t=e.place,n=e.card,a=GameData.players[t];a.cards=e.cards.slice(),"undefined"!=typeof e.pengCards&&(a.pengCards=e.pengCards.slice()),"undefined"!=typeof e.gangCards&&(a.gangCards=e.gangCards.slice()),"undefined"!=typeof e.kanCards&&(a.kanCards=e.kanCards.slice()),"undefined"!=typeof e.niuCards&&(a.niuCards=e.niuCards.slice()),"undefined"!=typeof e.jiangCards&&(a.jiangCards=e.jiangCards.slice()),GameData.getCardPlace=-1,GameData.huPlace=t,GameData.huCard=n,GameEvent().SendEvent("HuCards",e)},r.Add(D);var w={};w.interest="addNiuCard",w.Process=function(e){var t=e.place,n=e.addNiuCard,a=GameData.players[t];a.niuCards.push(n),GameData.getCardPlace=t,GameEvent().SendEvent("AddNiuCard",e)},r.Add(w);var B={};B.interest="resumeGame",B.Process=function(e){function t(e){var t={};for(var n in e)t[n]=e[n];return t}var n=e.roomInfo,i=e.playerList;GameData.userRoomData.bankerPlace=n.bankerPlace,GameData.userRoomData.playCount=n.playCount,GameData.getCardPlace=n.getCardPlace;for(var r,s,c,d,l,h,u=0;u<i.length;++u)r=i[u],s=r.id,c=r.place,d=r.name,l=r.headUrl,s===GameData.userId&&(GameData.selfPlace=c,GameData.selfOperation=t(i[u].op)),h=new o,h.Init(s,c,d,l),1===r.offline&&(h.offline=!0),h.cards=r.cards.slice(),h.cards.sort(),"undefined"!=typeof i[u].pengCards&&(h.pengCards=r.pengCards.slice()),"undefined"!=typeof i[u].gangCards&&(h.gangCards=r.gangCards.slice()),"undefined"!=typeof i[u].kanCards&&(h.kanCards=r.kanCards.slice()),"undefined"!=typeof i[u].niuCards&&(h.niuCards=r.niuCards.slice()),"undefined"!=typeof i[u].jiangCards&&(h.jiangCards=r.jiangCards.slice()),"undefined"!=typeof i[u].outputCards&&(h.outputCards=r.outputCards.slice()),GameData.players[h.place]=h;if("object"===a(n.totalScore))for(var u=0;u<GameData.players.length;++u)GameData.players[u].totalScore=n.totalScore[u];GameData.resumeGame=!0},r.Add(B);var _={};_.interest="playerReconnection",_.Process=function(e){var t=e;delete GameData.players[t].offline,GameEvent().SendEvent("PlayerReconnection",e)},r.Add(_);var T={};T.interest="accounts",T.Process=function(e){for(var t,n,a=0;a<e.playData.length;++a){n=e.playData[a],t=n.place;var i=GameData.players[t];i.score=n.score,i.singleScore=n.singleScore,i.cards=n.cards.slice(),i.cards.sort(),"undefined"!=typeof n.pengCards&&(i.pengCards=n.pengCards.slice()),"undefined"!=typeof n.gangCards&&(i.gangCards=n.gangCards.slice()),"undefined"!=typeof n.kanCards&&(i.kanCards=n.kanCards.slice()),"undefined"!=typeof n.niuCards&&(i.niuCards=n.niuCards.slice()),"undefined"!=typeof n.jiangCards&&(i.jiangCards=n.jiangCards.slice())}GameData.getCardPlace=-1,GameEvent().SendEvent("Accounts",e)},r.Add(T),cc._RF.pop()},{Utility:"Utility",msgHandler:"msgHandler",player:"player"}],game:[function(e,t,n){"use strict";cc._RF.push(t,"ca92aVTFUFEn7psiL1KgU9m","game");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=e("Utility"),o=function(e){return 0===GameData.selfPlace?3===e:GameData.selfPlace-1===e},r=function(e){return 3===GameData.selfPlace?0===e:GameData.selfPlace+1===e},s=function(e){return GameData.selfPlace>1?GameData.selfPlace-2===e:GameData.selfPlace+2==e},c=new cc.Color(104,218,0),d=new cc.Color(128,128,128);cc.Class({"extends":cc.Component,properties:{hotUpdate:cc.Node,playingPnl:cc.Node,accountsPnl:cc.Node,preparePnl:cc.Node,preSelfHead:cc.Node,selfReady:cc.Sprite,preFrontHead:cc.Node,frontReady:cc.Sprite,preBackHead:cc.Node,backReady:cc.Sprite,preOppositeHead:cc.Node,oppositefReady:cc.Sprite,preRoomIdLabel:cc.Label,exitRoomBtn:cc.Button,settingBtn:cc.Button,shortWordBtn:cc.Button,voiceBtn:cc.Button,inviteBtn:cc.Button,readyBtn:cc.Button,countiuBtn:cc.Button,gap:cc.Prefab,gap_v:cc.Prefab,gap_u:cc.Prefab,cardPrefab:cc.Prefab,gangPrefab:cc.Prefab,pengPrefab:cc.Prefab,jiangPrefab:cc.Prefab,frontGangPrefab:cc.Prefab,frontPengPrefab:cc.Prefab,frontJiangPrefab:cc.Prefab,backGangPrefab:cc.Prefab,backPengPrefab:cc.Prefab,backJiangPrefab:cc.Prefab,upGangPrefab:cc.Prefab,upPengPrefab:cc.Prefab,upJiangPrefab:cc.Prefab,selfHand:cc.Node,selfOutput:cc.Node,frontHand:cc.Node,frontOutput:cc.Node,backHand:cc.Node,backOutput:cc.Node,oppositeHand:cc.Node,oppositeOutput:cc.Node,selfHead:cc.Node,frontHead:cc.Node,backHead:cc.Node,upHead:cc.Node,operationPnl:cc.Node,opBtnGuo:cc.Button,opBtnZha:cc.Button,opBtnHu:cc.Button,opBtnGang:cc.Button,opBtnPeng:cc.Button,opBtnJiang:cc.Button,opBtnKan:cc.Button,opBtnNiu:cc.Button,operation2Pnl:cc.Node,opBtnGuo2:cc.Button,opBtnPiao:cc.Button,opBtnXi:cc.Button,remainLabel:cc.Label,quanLabel:cc.Label,hunLabel:cc.Label,zhuangLabel:cc.Label,jiangLabel:cc.Label,niuLabel:cc.Label,roomIdLabel:cc.Label,dongDown:cc.Sprite,dongUp:cc.Sprite,dongLeft:cc.Sprite,dongRight:cc.Sprite,piaoDown:cc.Sprite,piaoUp:cc.Sprite,piaoLeft:cc.Sprite,piaoRight:cc.Sprite,timeLabel:cc.Label,secondLabel:cc.Label,animHu:cc.Node,huArrow:cc.Node,animLiuJu:cc.Node,animPiao:cc.Node,piaoArrow:cc.Node,tingCardsNotify:cc.Node},onLoad:function(){this.playingPnl.active=!1,this.preparePnl.active=!1,this.exitRoomBtn.node.on("click",this.OnExitRoom,this),this.settingBtn.node.on("click",this.OnSetting,this),this.shortWordBtn.node.on("click",this.OnShortWord,this),this.voiceBtn.node.on("click",this.OnVoice,this),this.inviteBtn.node.on("click",this.OnInvitePlayer,this),this.readyBtn.node.on("click",this.OnReady,this),this.countiuBtn.node.on("click",this.OnContinue,this),cc.sys.isNative||(this.voiceBtn.node.active=!1),this.opBtnGuo.node.on("click",this.OnOpGuo,this),this.opBtnZha.node.on("click",this.OnOpZha,this),this.opBtnHu.node.on("click",this.OnOpHu,this),this.opBtnGang.node.on("click",this.OnOpGang,this),this.opBtnPeng.node.on("click",this.OnOpPeng,this),this.opBtnJiang.node.on("click",this.OnOpJiang,this),this.opBtnKan.node.on("click",this.OnOpKan,this),this.opBtnNiu.node.on("click",this.OnOpNiu,this),this.opBtnGuo2.node.on("click",this.OnOpGuo2,this),this.opBtnPiao.node.on("click",this.OnOpPiao,this),this.opBtnXi.node.on("click",this.OnOpXi,this),GameEvent().OnEvent("JoinPlayer",this.OnJoinPlayer,this),GameEvent().OnEvent("LosePlayer",this.OnLosePlayer,this),GameEvent().OnEvent("PlayerOffline",this.OnPlayerOffline,this),GameEvent().OnEvent("PlayerReconnection",this.OnPlayerReconnection,this),GameEvent().OnEvent("PlayerReady",this.OnPlayerReady,this),GameEvent().OnEvent("NewGame",this.PlayingShow,this),GameEvent().OnEvent("ExitRoom",this.ExitRoom,this),GameEvent().OnEvent("ResumeGame",this.ResumeGame,this),GameEvent().OnEvent("InitCards",this.OnInitCards,this),GameEvent().OnEvent("GetCard",this.OnGetCard,this),GameEvent().OnEvent("AddNiuCard",this.OnAddNiuCard,this),GameEvent().OnEvent("ThrowCard",this.OnThrowCard,this),GameEvent().OnEvent("PengCards",this.OnPengCards,this),GameEvent().OnEvent("GangCards",this.OnGangCards,this),GameEvent().OnEvent("KanCards",this.OnKanCards,this),GameEvent().OnEvent("NiuCards",this.OnNiuCards,this),GameEvent().OnEvent("JiangCards",this.OnJiangCards,this),GameEvent().OnEvent("PiaoCards",this.OnPiaoCards,this),GameEvent().OnEvent("HuCards",this.OnHuCards,this),GameEvent().OnEvent("Accounts",this.OnAccounts,this),GameEvent().OnEvent("reconnectedServer",this.OnReconnectedServer,this),GameEvent().OnEvent("ReconnectBack",this.OnReconnectBack,this);var e=AudioMng();e&&e.playGameMusic(),0===GameData.userRoomData.played?this.PrepareShow():1===GameData.userRoomData.played&&(this.PlayingShow(),GameData.resumeGame===!0&&(this.ResumeGame(),GameData.resumeGame===!1)),this.UpdataTimeLabel(),window.Voice().Init()},OnReconnectedServer:function(){"undefined"==typeof GameData.validUniqueID?("undefined"!=typeof this._timeOutHandle&&(clearTimeout(this._timeOutHandle),this._timeOutHandle=void 0),cc.director.loadScene("login")):GameSocket().Send("reconnect",{uniqueID:GameData.validUniqueID})},OnReconnectBack:function(){"undefined"!=typeof this._timeOutHandle&&(clearTimeout(this._timeOutHandle),this._timeOutHandle=void 0),cc.director.loadScene("home")},PlayCountDown:function(){"function"==typeof this.playCountDownFunc?this.unschedule(this.playCountDownFunc):this.playCountDownFunc=function(){--this.secondLabel.tiemCount,this.secondLabel.string=this.secondLabel.tiemCount}.bind(this);var e=1,t=29;this.secondLabel.tiemCount=30,this.secondLabel.string=this.secondLabel.tiemCount,this.schedule(this.playCountDownFunc,e,t,0)},PlayHuAnim:function(e){this._huPlace=e,this.animHu.active=!0;var t=this.animHu.getComponent(cc.Animation);t.play(),t.on("finished",function(){this.animHu.active=!1,this.huArrow.active=!0;var e=this.huArrow.getComponent(cc.Animation);o(this._huPlace)?e.play("anim-arrow-left"):r(this._huPlace)?e.play("anim-arrow-right"):s(this._huPlace)?e.play("anim-arrow-up"):e.play("anim-arrow-down"),e.on("finished",function(){this.huArrow.active=!1,this.accountsPnl.getComponent("accounts").OnShow()}.bind(this),this)}.bind(this),this)},PlayPiaoAnim:function(e){this._piaoPlace=e,this.animPiao.active=!0;var t=this.animPiao.getComponent(cc.Animation);t.play(),t.on("finished",function(){this.animPiao.active=!1,this.piaoArrow.active=!0;var e=this.piaoArrow.getComponent(cc.Animation);o(this._piaoPlace)?e.play("anim-arrow-left"):r(this._piaoPlace)?e.play("anim-arrow-right"):s(this._piaoPlace)?e.play("anim-arrow-up"):e.play("anim-arrow-down"),e.on("finished",function(){this.piaoArrow.active=!1}.bind(this),this)}.bind(this),this)},UpdataTimeLabel:function(){var e=new Date,t=(e.getHours(),e.getMinutes()),n=new Date(e);n.setMinutes(t+1,0,0);var a=function(){var e=new Date,t=e.getHours(),n=e.getMinutes();n<10&&(n="0"+n),this.timeLabel.string=t+":"+n}.bind(this);a(),this._timeOutHandle=setTimeout(function(){a(),setInterval(a,6e4)},n.getTime()-e.getTime())},SetTitleInfo:function(){this.remainLabel.string="剩余:120张","number"==typeof GameData.userRoomData.remainNum&&(this.remainLabel.string="剩余:"+GameData.userRoomData.remainNum+"张");var e=1===GameData.userRoomData.quanId?1:4,t=GameData.userRoomData.playCount,n="undefined"==typeof t?0:Math.floor(t/4)+1;this.quanLabel.string=n+"/"+e+"圈",this.hunLabel.string="荤低:"+GameData.userRoomData.hunCount,this.zhuangLabel.node.color=1===(1&GameData.userRoomData.ruleId)?c:d,this.jiangLabel.node.color=4===(4&GameData.userRoomData.ruleId)?c:d,this.niuLabel.node.color=2===(2&GameData.userRoomData.ruleId)?c:d,this.roomIdLabel.string="房间:"+GameData.userRoomData.id},SetDongInfo:function(e){this.dongDown.node.active=!1,this.dongUp.node.active=!1,this.dongLeft.node.active=!1,this.dongRight.node.active=!1,o(e)?this.dongLeft.node.active=!0:r(e)?this.dongRight.node.active=!0:s(e)?this.dongUp.node.active=!0:this.dongDown.node.active=!0;
},SetPiaoCard:function(e,t){o(e)?(this.piaoLeft.node.active=!0,this.piaoLeft.spriteFrame=CardSpriteFrameCache[3][t]):r(e)?(this.piaoRight.node.active=!0,this.piaoRight.spriteFrame=CardSpriteFrameCache[3][t]):s(e)?(this.piaoUp.node.active=!0,this.piaoUp.spriteFrame=CardSpriteFrameCache[3][t]):(this.piaoDown.node.active=!0,this.piaoDown.spriteFrame=CardSpriteFrameCache[3][t])},HiddenPiaoCard:function(){this.piaoLeft.node.active=!1,this.piaoRight.node.active=!1,this.piaoUp.node.active=!1,this.piaoDown.node.active=!1},PrepareShow:function(){this.playingPnl.active=!1,this.preparePnl.active=!0,this.InitPreHead();for(var e,t=0;t<GameData.players.length;++t)e=GameData.players[t],e&&this.OnJoinPlayer(e.place);this.preRoomIdLabel.string="房间ID:"+GameData.userRoomData.id,this.SetTitleInfo()},PlayingShow:function(){this.playingPnl.active=!0,this.preparePnl.active=!1,this.accountsPnl.getComponent("accounts").OnHide(),this.ClearAllOutput(),this.InitPlayingHead(),this.HiddenOperat(),this.HiddenOperat2(),this.HiddenPiaoCard(),this.tingCardsNotify.active=!1,GameData.addNiuFlushCard=!1,this.SetTitleInfo()},ResumeGame:function(){for(var e,t,n,a=0;a<4;++a){e=GameData.players[a];var c=GameData.selfOperation;if(e.id===GameData.userId&&"undefined"!=typeof c.getCard){var d=c.getCard;i.ArrayRemoveElemnt(e.cards,d),e.cards.sort(),this.SelfInitCards(e.cards,e.pengCards,e.gangCards,e.kanCards,e.niuCards,e.jiangCards),e.cards.push(d),this.SelfAddCard(d,e.cards.length-1)}else this.InitPlayerCards(a,e);if(n=a,t=o(n)?this.FrontThrowCard:r(n)?this.BackThrowCard:s(n)?this.OppositeThrowCard:this.SelfThrowCard,e.outputCards){for(var l=0;l<e.outputCards.length;++l)t.call(this,e.outputCards[l]);e.outputCards=null}e.id===GameData.userId&&(this.ShowOperat("undefined"!=typeof c.jiang,"undefined"!=typeof c.niu,"undefined"!=typeof c.kan,"undefined"!=typeof c.peng,"undefined"!=typeof c.gang,"undefined"!=typeof c.hu,"undefined"!=typeof c.zha),GameData.selfOperation=null)}},SetupPreHead:function(e,t){var n=t.getChildByName("name").getComponent("cc.Label");n.string=e.name;var a=t.getChildByName("headIcon").getComponent("cc.Sprite");SetSpriteImage(a,{url:e.headUrl,type:"jpg"});var i=t.getChildByName("root").getComponent("cc.Sprite");i.node.active=!1,"number"==typeof GameData.userRoomData.ownerId&&GameData.userRoomData.ownerId===e.id&&(i.node.active=!0)},ClearAllReady:function(){this.frontReady.node.active=!1,this.backReady.node.active=!1,this.oppositefReady.node.active=!1,this.selfReady.node.active=!1,this.readyBtn.node.active=!1,this.inviteBtn.node.active=!0},InitPreHead:function(){for(var e,t=[this.preFrontHead,this.preOppositeHead,this.preBackHead,this.preSelfHead],n=0;n<t.length;++n){e=t[n];var a=e.getChildByName("name").getComponent("cc.Label");a.string="";var i=e.getChildByName("headIcon").getComponent("cc.Sprite");SetSpriteImage(i,"game/defaultHead",!0);var o=e.getChildByName("root").getComponent("cc.Sprite");o.node.active=!1}this.ClearAllReady()},InitPlayingHead:function(){for(var e,t,n=0;n<4;++n){e=o(n)?this.frontHead:r(n)?this.backHead:s(n)?this.upHead:this.selfHead,t=GameData.players[n];var a=e.getChildByName("name").getComponent("cc.Label");a.string=t.name;var i=e.getChildByName("headIcon").getComponent("cc.Sprite");SetSpriteImage(i,{url:t.headUrl,type:"jpg"});var c=e.getChildByName("root").getComponent("cc.Sprite");c.node.active=!1,"number"==typeof GameData.userRoomData.ownerId&&GameData.userRoomData.ownerId===t.id&&(c.node.active=!0);var d=e.getChildByName("offline").getComponent("cc.Sprite");d.node.active=!1,"undefined"!=typeof t.offline&&(d.node.active=!0);var l=e.getChildByName("zhuang").getComponent("cc.Sprite");l.node.active=!1,GameData.userRoomData.bankerPlace===n&&(l.node.active=!0);var h=e.getChildByName("huLabel").getComponent("cc.Label");h.string=t.totalScore+"虎"}},OnJoinPlayer:function(e){var t;t="number"==typeof e?e:e.detail;var n,a=GameData.players[t];n=o(t)?this.preFrontHead:r(t)?this.preBackHead:s(t)?this.preOppositeHead:this.preSelfHead,this.SetupPreHead(a,n),4===GameData.GetPlayerCount()?(this.inviteBtn.node.active=!1,this.readyBtn.node.active=!0):(this.readyBtn.node.active=!1,this.inviteBtn.node.active=!0)},OnLosePlayer:function(e){var t,n=e.detail;o(n)?(t=this.preFrontHead,this.frontReady.node.active=!1):r(n)?(t=this.preBackHead,this.backReady.node.active=!1):s(n)?(t=this.preOppositeHead,this.oppositefReady.node.active=!1):(t=this.preSelfHead,this.selfReady.node.active=!1);var a=t.getChildByName("name").getComponent("cc.Label");a.string="";var i=t.getChildByName("headIcon").getComponent("cc.Sprite");SetSpriteImage(i,"/game/defaultHead",!0);var c=t.getChildByName("root").getComponent("cc.Sprite");c.node.active=!1,this.ClearAllReady()},OnPlayerOffline:function(e){var t,n=e.detail;t=o(n)?this.frontHead:r(n)?this.backHead:s(n)?this.upHead:this.selfHead;var a=t.getChildByName("offline").getComponent("cc.Sprite");a.node.active=!1;var i=GameData.players[n];"undefined"!=typeof i.offline&&(a.node.active=!0)},OnPlayerReconnection:function(e){var t,n=e.detail;t=o(n)?this.frontHead:r(n)?this.backHead:s(n)?this.upHead:this.selfHead;var a=t.getChildByName("offline").getComponent("cc.Sprite");a.node.active=!1;var i=GameData.players[n];"undefined"!=typeof i.offline&&(a.node.active=!0)},OnPlayerReady:function(e){var t=e.detail,n=null;n=o(t)?this.frontReady:r(t)?this.backReady:s(t)?this.oppositefReady:this.selfReady,n&&(n.node.active=!0)},OnExitRoom:function(){GameSocket().Send("exitRoom")},ExitRoom:function(){"undefined"!=typeof this._timeOutHandle&&(clearTimeout(this._timeOutHandle),this._timeOutHandle=void 0),cc.director.loadScene("home")},OnInvitePlayer:function(){cc.sys.isNative?Notify().Play("抱歉，此功能不对网页版开放!"):Notify().Play("加班实现中，敬请期待")},OnVoice:function(){if(cc.sys.os===cc.sys.OS_IOS){"undefined"==typeof this.onceRecord&&(this.onceRecord=!1);var e=jsb.fileUtils.getWritablePath()+"/record.dat";if(this.onceRecord===!0){this.onceRecord=!1,window.Voice().StopRecording();var t=window.Voice().GetRecordedSeconds(e);GameLog("file time:"+t);var n=window.Voice().PlayRecordedFile(e);if(n===!1){var a=AudioMng();a&&a.resumeAll()}else window.Voice().SetPlayRecordedFileEndCallback(function(){var e=AudioMng();e&&e.resumeAll()}),window.Voice().UploadRecordedFile(e)}else if(this.onceRecord===!1){var a=AudioMng();a&&a.pauseAll(),window.Voice().StartRecording(e),this.onceRecord=!0}}},OnSetting:function(){Notify().Play("加班实现中，敬请期待")},OnShortWord:function(){Notify().Play("加班实现中，敬请期待")},OnReady:function(){GameSocket().Send("ready")},OnContinue:function(){this.accountsPnl.getComponent("accounts").OnHide(),GameSocket().Send("ready")},OnInitCards:function(e){var t=e.detail,n=t.place,a=GameData.players[n];o(n)?this.FrontInitCards(a.cards,a.pengCards,a.gangCards,a.kanCards,a.niuCards,a.jiangCards):r(n)?this.BackInitCards(a.cards,a.pengCards,a.gangCards,a.kanCards,a.niuCards,a.jiangCards):s(n)?this.OppositeInitCards(a.cards,a.pengCards,a.gangCards,a.kanCards,a.niuCards,a.jiangCards):this.SelfInitCards(a.cards,a.pengCards,a.gangCards,a.kanCards,a.niuCards,a.jiangCards)},OnGetCard:function(e){var t=e.detail,n=t.place,a=t.card;if(GameData.addNiuFlushCard){var i=GameData.players[n],c=i.cards.pop();this.InitPlayerCards(n,i),i.cards.push(c),GameData.addNiuFlushCard=!1}if("number"==typeof GameData.userRoomData.remainNum&&(this.remainLabel.string="剩余:"+GameData.userRoomData.remainNum+"张"),this.SetDongInfo(n),o(n))this.FrontAddCard(a);else if(r(n))this.BackAddCard(a);else if(s(n))this.OppositeAddCard(a);else{var i=GameData.players[n],d=i.cards;this.SelfAddCard(a,d.length-1),i.piao===!0&&"undefined"==typeof t.hu&&setTimeout(function(e){return function(){GameSocket().Send("needThrowCard",{card:e})}}(a),1e3)}this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha),this.PlayCountDown()},OnAddNiuCard:function(e){var t=e.detail,n=t.place,a=t.addNiuCard;if(GameData.addNiuFlushCard){var i=GameData.players[n],c=i.niuCards.pop();this.InitPlayerCards(n,i),i.niuCards.push(c),GameData.addNiuFlushCard=!1}if(o(n))this.FrontAddCard(a);else if(r(n))this.BackAddCard(a);else if(s(n))this.OppositeAddCard(a);else{var d=GameData.players[n].cards;this.SelfAddCard(a,d.length-1)}var l=AudioMng();l&&l.playAddNiu(),GameData.addNiuFlushCard=!0},OnThrowCard:function(e){var t=e.detail,n=t.place,i=t.card,c=GameData.players[n];if(o(n)?(this.FrontInitCards(c.cards,c.pengCards,c.gangCards,c.kanCards,c.niuCards,c.jiangCards),this.FrontThrowCard(i)):r(n)?(this.BackInitCards(c.cards,c.pengCards,c.gangCards,c.kanCards,c.niuCards,c.jiangCards),this.BackThrowCard(i)):s(n)?(this.OppositeInitCards(c.cards,c.pengCards,c.gangCards,c.kanCards,c.niuCards,c.jiangCards),this.OppositeThrowCard(i)):(this.SelfInitCards(c.cards,c.pengCards,c.gangCards,c.kanCards,c.niuCards,c.jiangCards),this.SelfThrowCard(i)),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha),this.ShowOperat2("undefined"!=typeof t.xi,"undefined"!=typeof t.piao),GameData.huCards.length>0){if(this.tingCardsNotify.active=!0,void 0!==a(this.tingCardsNotify.huCardStr)&&this.tingCardsNotify.huCardStr!==GameData.huCards.toString()){for(var d,l=this.tingCardsNotify.getChildByName("cards"),h=l.children,u=0;u<3;++u)u<GameData.huCards.length?(h[u].active=!0,d=h[u].getComponent(cc.Sprite),d.spriteFrame=CardSpriteFrameCache[3][GameData.huCards[u]]):h[u].active=!1;this.tingCardsNotify.huCardStr=GameData.huCards.toString()}}else this.tingCardsNotify.active=!1;var p=AudioMng();p&&p.playCard(i)},OnPengCards:function(e){var t=e.detail,n=t.place;GameData.selfPlace===n&&this.HiddenOperat();var a=GameData.players[n];this.InitPlayerCards(n,a),"undefined"!=typeof t.throwCardPlace&&this.DelLastThrowCardByPlace(t.throwCardPlace),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha),this.SetDongInfo(n);var i=AudioMng();i&&i.playPeng(),this.PlayCountDown()},OnGangCards:function(e){var t=e.detail,n=t.place;GameData.selfPlace===n&&this.HiddenOperat();var a=GameData.players[n];this.InitPlayerCards(n,a),"undefined"!=typeof t.throwCardPlace&&this.DelLastThrowCardByPlace(t.throwCardPlace),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha);var i=AudioMng();i&&i.playGang()},OnKanCards:function(e){var t=e.detail,n=t.place,a=GameData.players[n];this.InitPlayerCards(n,a),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha);var i=AudioMng();i&&i.playKan()},OnNiuCards:function(e){var t=e.detail,n=t.place,a=GameData.players[n];this.InitPlayerCards(n,a),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha);var i=AudioMng();i&&i.playNiu()},OnJiangCards:function(e){var t=e.detail,n=t.place,a=GameData.players[n];this.InitPlayerCards(n,a),"undefined"!=typeof t.throwCardPlace&&this.DelLastThrowCardByPlace(t.throwCardPlace),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha);var i=AudioMng();i&&i.playJiang()},OnPiaoCards:function(e){var t=e.detail,n=t.place,a=t.card;this.PlayPiaoAnim(n),this.DelLastThrowCardByPlace(n),this.SetPiaoCard(n,a);var i=AudioMng();i&&i.playTing()},OnHuCards:function(e){var t=e.detail,n=t.place,a=GameData.players[n];this.InitPlayerCards(n,a),this.ShowOperat("undefined"!=typeof t.jiang,"undefined"!=typeof t.niu,"undefined"!=typeof t.kan,"undefined"!=typeof t.peng,"undefined"!=typeof t.gang,"undefined"!=typeof t.hu,"undefined"!=typeof t.zha);var i=AudioMng();i&&i.playHu(),this.PlayHuAnim(n)},OnAccounts:function(e){var t=e.detail;if(1===t.status){this.animLiuJu.active=!0;var n=this.animHu.getComponent(cc.Animation);n.play(),n.on("finished",function(){this.animLiuJu.active=!1,this.accountsPnl.getComponent("accounts").OnShow()}.bind(this),this)}},OnOpGuo:function(){GameSocket().Send("passCards"),this.ShowOperat(!1,!1,!1,!1,!1,!1,!1)},OnOpZha:function(){GameSocket().Send("zhaCards")},OnOpHu:function(){GameSocket().Send("huCards")},OnOpGang:function(){GameSocket().Send("gangCards")},OnOpPeng:function(){GameSocket().Send("pengCards")},OnOpJiang:function(){GameSocket().Send("jiangCards")},OnOpKan:function(){GameSocket().Send("kanCards")},OnOpNiu:function(){GameSocket().Send("niuCards")},OnOpGuo2:function(){GameSocket().Send("passCards"),this.HiddenOperat2()},OnOpPiao:function(){this.HiddenOperat2(),GameSocket().Send("piaoCards")},OnOpXi:function(){this.HiddenOperat2(),GameSocket().Send("xiCards")},NeedThrowCards:function(e){GameData.selfPlace===GameData.getCardPlace&&GameSocket().Send("needThrowCard",{card:GameData.players[GameData.selfPlace].cards[e]})},ClearAllOutput:function(){var e,t=this.selfOutput.children;for(e=0;e<t.length;++e)t[e].opacity=0;for(t=this.frontOutput.children,e=0;e<t.length;++e)t[e].opacity=0;for(t=this.backOutput.children,e=0;e<t.length;++e)t[e].opacity=0;for(t=this.oppositeOutput.children,e=0;e<t.length;++e)t[e].opacity=0},ShowOperat:function(e,t,n,a,i,o,r){return e===!1&&t===!1&&n===!1&&a===!1&&i===!1&&o===!1&&r===!1?void this.HiddenOperat():(this.HiddenOperat2(),this.operationPnl.active=!0,this.opBtnGuo.node.active=!0,e?this.opBtnJiang.node.active=!0:this.opBtnJiang.node.active=!1,t?this.opBtnNiu.node.active=!0:this.opBtnNiu.node.active=!1,n?this.opBtnKan.node.active=!0:this.opBtnKan.node.active=!1,a?this.opBtnPeng.node.active=!0:this.opBtnPeng.node.active=!1,i?this.opBtnGang.node.active=!0:this.opBtnGang.node.active=!1,o?this.opBtnHu.node.active=!0:this.opBtnHu.node.active=!1,void(r?this.opBtnZha.node.active=!0:this.opBtnZha.node.active=!1))},HiddenOperat:function(){this.operationPnl.active=!1},ShowOperat2:function(e,t){return e===!1&&t===!1?void this.HiddenOperat2():(this.HiddenOperat(),this.operation2Pnl.active=!0,this.opBtnGuo2.node.active=!0,e?this.opBtnXi.node.active=!0:this.opBtnXi.node.active=!1,void(t?this.opBtnPiao.node.active=!0:this.opBtnPiao.node.active=!1))},HiddenOperat2:function(){this.operation2Pnl.active=!1},InitSpecialCards:function(e,t,n,a,i,o,r,s,c,d,l){var h,u;for(h=0;d&&h<d.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][45+u]}e.addChild(p),e.addChild(cc.instantiate(n)),h+=13}for(h=0;s&&h<s.length;h+=4){var p=cc.instantiate(i),g=p.getChildByName("card4").getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][s[h]],e.addChild(p),e.addChild(cc.instantiate(n))}for(h=0;c&&h<c.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);4===t&&1===u?g.spriteFrame=CardSpriteFrameCache[t][c[h]]:g.spriteFrame=CardSpriteFrameCache[t][10]}e.addChild(p),e.addChild(cc.instantiate(n))}for(h=0;r&&h<r.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][r[h]]}e.addChild(p),e.addChild(cc.instantiate(n))}for(h=0;l&&h<l.length;h+=2){var p=cc.instantiate(o),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][l[h]]}e.addChild(p),e.addChild(cc.instantiate(n))}},InitSpecialCardsForBack:function(e,t,n,a,i,o,r,s,c,d,l){var h,u;for(h=0;d&&h<d.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][45+u]}e.addChild(p,-e.children.length),e.addChild(cc.instantiate(n),-e.children.length),h+=13}for(h=0;s&&h<s.length;h+=4){var p=cc.instantiate(i),g=p.getChildByName("card4").getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][s[h]],e.addChild(p,-e.children.length),e.addChild(cc.instantiate(n),-e.children.length)}for(h=0;c&&h<c.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][10]}e.addChild(p,-e.children.length),e.addChild(cc.instantiate(n),-e.children.length)}for(h=0;r&&h<r.length;h+=3){var p=cc.instantiate(a),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][r[h]]}e.addChild(p,-e.children.length),e.addChild(cc.instantiate(n),-e.children.length)}for(h=0;l&&h<l.length;h+=2){var p=cc.instantiate(o),f=p.children;for(u=0;u<f.length;u++){var g=f[u].getComponent(cc.Sprite);g.spriteFrame=CardSpriteFrameCache[t][l[h]]}e.addChild(p,-e.children.length),e.addChild(cc.instantiate(n),-e.children.length)}},InitPlayerCards:function(e,t){o(e)?this.FrontInitCards(t.cards,t.pengCards,t.gangCards,t.kanCards,t.niuCards,t.jiangCards):r(e)?this.BackInitCards(t.cards,t.pengCards,t.gangCards,t.kanCards,t.niuCards,t.jiangCards):s(e)?this.OppositeInitCards(t.cards,t.pengCards,t.gangCards,t.kanCards,t.niuCards,t.jiangCards):this.SelfInitCards(t.cards,t.pengCards,t.gangCards,t.kanCards,t.niuCards,t.jiangCards)},DelLastThrowCardByPlace:function(e){o(e)?this.DelFrontLastThrowCard():r(e)?this.DelBackLastThrowCard():s(e)?this.DelOppositeLastThrowCard():this.DelSelfLastThrowCard()},SelfInitCards:function(e,t,n,a,i,o){this.selfHand.removeAllChildren(),this.InitSpecialCards(this.selfHand,4,this.gap,this.pengPrefab,this.gangPrefab,this.jiangPrefab,t,n,a,i,o);for(var r,s,c=0;c<e.length;++c)r=cc.instantiate(this.cardPrefab),s=r.getComponent(cc.Sprite),s.spriteFrame=CardSpriteFrameCache[1][e[c]],s.node.cardIndex=c,s.node.on(cc.Node.EventType.TOUCH_END,function(e){this.NeedThrowCards(e.target.cardIndex)}.bind(this),this),this.selfHand.addChild(r)},SelfAddCard:function(e,t){var n=cc.instantiate(this.gap),a=cc.instantiate(this.cardPrefab),i=a.getComponent(cc.Sprite);i.spriteFrame=CardSpriteFrameCache[1][e],i.node.cardIndex=t,i.node.on(cc.Node.EventType.TOUCH_END,function(e){this.NeedThrowCards(e.target.cardIndex)}.bind(this),this),this.selfHand.addChild(n),this.selfHand.addChild(a)},SelfThrowCard:function(e){for(var t=this.selfOutput.children,n=0;n<t.length;++n)if(0===t[n].opacity){t[n].opacity=255;var a=t[n].getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[3][e];break}},DelSelfLastThrowCard:function(){for(var e=this.selfOutput.children,t=e.length-1;t>=0;--t)if(255===e[t].opacity){e[t].opacity=0;break}},FrontInitCards:function(e,t,n,a,i,o){this.frontHand.removeAllChildren(),this.InitSpecialCards(this.frontHand,0,this.gap_v,this.frontPengPrefab,this.frontGangPrefab,this.frontJiangPrefab,t,n,a,i,o);for(var r,s,c=0;c<e.length;++c)r=cc.instantiate(this.cardPrefab),s=r.getComponent(cc.Sprite),s.spriteFrame=CardSpriteFrameCache[0][e[c]],this.frontHand.addChild(r)},FrontAddCard:function(e){var t=cc.instantiate(this.gap_v),n=cc.instantiate(this.cardPrefab),a=n.getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[0][e],this.frontHand.addChild(t),this.frontHand.addChild(n)},FrontThrowCard:function(e){for(var t=this.frontOutput.children,n=0;n<t.length;++n)if(0===t[n].opacity){t[n].opacity=255;var a=t[n].getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[0][e];break}},DelFrontLastThrowCard:function(){for(var e=this.frontOutput.children,t=e.length-1;t>=0;--t)if(255===e[t].opacity){e[t].opacity=0;break}},BackInitCards:function(e,t,n,a,i,o){this.backHand.removeAllChildren(),this.InitSpecialCardsForBack(this.backHand,2,this.gap_v,this.backPengPrefab,this.backGangPrefab,this.backJiangPrefab,t,n,a,i,o);for(var r,s,c=0;c<e.length;++c)r=cc.instantiate(this.cardPrefab),s=r.getComponent(cc.Sprite),s.spriteFrame=CardSpriteFrameCache[2][e[c]],this.backHand.addChild(r,-this.backHand.children.length)},BackAddCard:function(e){var t=cc.instantiate(this.gap_v),n=cc.instantiate(this.cardPrefab),a=n.getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[2][e],this.backHand.addChild(t,-this.backHand.children.length),this.backHand.addChild(n,-this.backHand.children.length)},BackThrowCard:function(e){for(var t=this.backOutput.children,n=t.length-1;n>=0;--n)if(0===t[n].opacity){t[n].opacity=255;var a=t[n].getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[2][e];break}},DelBackLastThrowCard:function(){for(var e=this.backOutput.children,t=0;t<e.length;++t)if(255===e[t].opacity){e[t].opacity=0;break}},OppositeInitCards:function(e,t,n,a,i,o){this.oppositeHand.removeAllChildren(),this.InitSpecialCards(this.oppositeHand,3,this.gap_u,this.upPengPrefab,this.upGangPrefab,this.upJiangPrefab,t,n,a,i,o);for(var r,s,c=0;c<e.length;++c)r=cc.instantiate(this.cardPrefab),s=r.getComponent(cc.Sprite),s.spriteFrame=CardSpriteFrameCache[3][e[c]],this.oppositeHand.addChild(r)},OppositeAddCard:function(e){var t=cc.instantiate(this.gap_u),n=cc.instantiate(this.cardPrefab),a=n.getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[3][e],this.oppositeHand.addChild(t),this.oppositeHand.addChild(n)},OppositeThrowCard:function(e){for(var t=this.oppositeOutput.children,n=t.length-1;n>=0;--n)if(0===t[n].opacity){t[n].opacity=255;var a=t[n].getComponent(cc.Sprite);a.spriteFrame=CardSpriteFrameCache[3][e];break}},DelOppositeLastThrowCard:function(){for(var e=this.oppositeOutput.children,t=0;t<e.length;++t)if(255===e[t].opacity){e[t].opacity=0;break}},update:function(e){if(window.Voice().Poll(),this.onceRecord===!0){var t=window.Voice().GetMicLevel();GameLog("GetMicLevel:"+t)}}}),cc._RF.pop()},{Utility:"Utility"}],home:[function(e,t,n){"use strict";cc._RF.push(t,"c7596Jr6JNNV6QkfaISKL4Y","home"),cc.Class({"extends":cc.Component,properties:{creatRoomPanel:cc.Node,joinRoomPanel:cc.Node,createRoomBtn:cc.Button,joinRoomBtn:cc.Button,descPanel:cc.Node,shareBtn:cc.Button,ruleBtn:cc.Button,historyBtn:cc.Button,settingBtn:cc.Button,notifyLayer:cc.Node,moneyLayer:cc.Node,nameLable:cc.Label,idLabel:cc.Label,cardLabel:cc.Label,headSprite:cc.Sprite},onLoad:function(){this.HideAllPnl(),this.createRoomBtn.node.on("click",this.OnCreateRoom,this),this.joinRoomBtn.node.on("click",this.OnJoinRoom,this),this.nameLable.string=GameData.userName,this.idLabel.string="ID:"+GameData.userId,this.cardLabel.string=GameData.userRoomCard,console.log("-------->",GameData.userHeadUrl),SetSpriteImage(this.headSprite,{url:GameData.userHeadUrl,type:"jpg"}),GameSocket().Send("homeButtons",{version:window.GameVersion}),GameSocket().Send("getRoomRecord"),GameEvent().OnEvent("HomeButtonsBack",this.OnHomeButtons,this),GameEvent().OnEvent("GetRoomRecordSuccess",this.OnGetRoomRecordSucces,this),GameEvent().OnEvent("CreateRoomSuccess",this.OnCreateRoomSuccess,this),GameEvent().OnEvent("JoinRoomSuccess",this.OnJoinRoomSucces,this),GameEvent().OnEvent("reconnectedServer",this.OnReconnectedServer,this);var e=AudioMng();e&&e.playHomeMusic()},HideAllPnl:function(){this.creatRoomPanel.getComponent("createRoom").OnHide(),this.joinRoomPanel.getComponent("joinRoom").OnHide()},OnCreateRoom:function(){this.creatRoomPanel.getComponent("createRoom").OnShow()},OnJoinRoom:function(){this.joinRoomPanel.getComponent("joinRoom").OnShow()},OnShare:function(){Notify().Play("加班实现中，敬请期待")},OnRuleDesc:function(){this.descPanel.getComponent("description").OnShow()},OnHistory:function(){Notify().Play("加班实现中，敬请期待")},OnSetting:function(){Notify().Play("加班实现中，敬请期待")},OnAddGold:function(){Notify().Play("加班实现中，敬请期待")},OnHomeButtons:function(){GameData.homeButtons.indexOf("share")<0?this.shareBtn.node.active=!1:this.shareBtn.node.active=!0,GameData.homeButtons.indexOf("rule")<0?this.ruleBtn.node.active=!1:this.ruleBtn.node.active=!0,GameData.homeButtons.indexOf("record")<0?this.historyBtn.node.active=!1:this.historyBtn.node.active=!0,GameData.homeButtons.indexOf("setting")<0?this.settingBtn.node.active=!1:this.settingBtn.node.active=!0,GameData.homeButtons.indexOf("money")<0?this.moneyLayer.active=!1:this.moneyLayer.active=!0,GameData.homeButtons.indexOf("notify")<0?this.notifyLayer.active=!1:this.notifyLayer.active=!0},OnGetRoomRecordSucces:function(){this.cardLabel.string=GameData.userRoomCard;var e=GameData.userRoomData.id;"number"==typeof e?this.scheduleOnce(function(){GameSocket().Send("joinRoom",{roomId:e})},1):"number"==typeof window.schemeRoomId&&(GameSocket().Send("joinRoom",{roomId:window.schemeRoomId}),window.schemeRoomId=void 0)},OnJoinRoomSucces:function(){Notify().Continue(),cc.director.loadScene("game")},OnCreateRoomSuccess:function(){Notify().Continue(),cc.director.loadScene("game")},OnReconnectedServer:function(){"undefined"==typeof GameData.validUniqueID?cc.director.loadScene("login"):GameSocket().Send("reconnect",{uniqueID:GameData.validUniqueID})}}),cc._RF.pop()},{}],hotUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"f2832syT1JCF7uvk3HLS00y","hotUpdate"),cc.Class({"extends":cc.Component,properties:{manifestUrl:{"default":"",url:cc.RawAsset},info:cc.Label,_updating:!1,_canRetry:!1},checkCb:function(e){switch(GameLog("Code: "+e.getEventCode()),e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info.string="No local manifest file found, hot update skipped.";break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.";break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.info.string="Already up to date with the latest remote version.";break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:this.info.string="New version found, please try to update.";break;default:return}cc.eventManager.removeListener(this._checkListener),this._checkListener=null,this._updating=!1},updateCb:function(e){var t=!1,n=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:this.info.string="No local manifest file found, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:var a=e.getMessage();a&&(this.info.string="Updated file: "+a,GameLog(e.getPercent().toFixed(2)+"% : "+a));break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:this.info.string="Fail to download manifest file, hot update skipped.",n=!0;break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:this.info.string="Already up to date with the latest remote version.",n=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:this.info.string="Update finished. "+e.getMessage(),t=!0;break;case jsb.EventAssetsManager.UPDATE_FAILED:this.info.string="Update failed. "+e.getMessage(),this._updating=!1,this._canRetry=!0;break;case jsb.EventAssetsManager.ERROR_UPDATING:this.info.string="Asset update error: "+e.getAssetId()+", "+e.getMessage();break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:this.info.string=e.getMessage()}if(n&&(cc.eventManager.removeListener(this._updateListener),this._updateListener=null,this._updating=!1),t){cc.eventManager.removeListener(this._updateListener),this._updateListener=null;var i=jsb.fileUtils.getSearchPaths(),o=this._am.getLocalManifest().getSearchPaths();console.log(JSON.stringify(o)),Array.prototype.unshift(i,o),cc.sys.localStorage.setItem("HotUpdateSearchPaths",JSON.stringify(i)),jsb.fileUtils.setSearchPaths(i),cc.game.restart()}},retry:function(){!this._updating&&this._canRetry&&(this._canRetry=!1,this.info.string="Retry failed Assets...",this._am.downloadFailedAssets())},checkUpdate:function(){return this._updating?void(this.info.string="Checking or updating ..."):this._am.getLocalManifest().isLoaded()?(this._checkListener=new jsb.EventListenerAssetsManager(this._am,this.checkCb.bind(this)),cc.eventManager.addListener(this._checkListener,1),this._am.checkUpdate(),void(this._updating=!0)):void(this.info.string="Failed to load local manifest ...")},hotUpdate:function(){this._am&&!this._updating&&(this._updateListener=new jsb.EventListenerAssetsManager(this._am,this.updateCb.bind(this)),cc.eventManager.addListener(this._updateListener,1),this._failCount=0,this._am.update(),this._updating=!0)},show:function(){},onLoad:function(){if(cc.sys.isNative){var e=(jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"remote-assets";GameLog("Storage path for remote assets : "+e),GameLog("Local manifest URL : "+this.manifestUrl),this._am=new jsb.AssetsManager(this.manifestUrl,e),cc.sys.ENABLE_GC_FOR_NATIVE_OBJECTS||this._am.retain(),this._am.setVersionCompareHandle(function(e,t){GameLog("JS Custom Version Compare: version A is "+e+", version B is "+t);for(var n=e.split("."),a=t.split("."),i=0;i<n.length;++i){var o=parseInt(n[i]),r=parseInt(a[i]||0);if(o!==r)return o-r}return a.length>n.length?-1:0});var t=this.info;this._am.setVerifyCallback(function(e,n){var a=n.compressed,i=n.md5,o=n.path;n.size;return a?(t.string="Verification passed : "+o,!0):(t.string="Verification passed : "+o+" ("+i+")",!0)}),this.info.string="Hot update is ready, please check or directly update.",cc.sys.os===cc.sys.OS_ANDROID&&(this._am.setMaxConcurrentTask(2),this.info.string="Max concurrent tasks count have been limited to 2"),this.checkUpdate()}},onDestroy:function(){this._updateListener&&(cc.eventManager.removeListener(this._updateListener),this._updateListener=null),this._am&&!cc.sys.ENABLE_GC_FOR_NATIVE_OBJECTS&&this._am.release()}}),cc._RF.pop()},{}],joinRoom:[function(e,t,n){"use strict";cc._RF.push(t,"84f9fC5aNdC6qoNoxF1tj9F","joinRoom");var a="输入6位房间号";cc.Class({"extends":cc.Component,properties:{closeBtn:cc.Button,joinBtn:cc.Button,inputLabel:cc.Label,_input:cc.String},onLoad:function(){this.closeBtn.node.on("click",this.OnHide,this),this.joinBtn.node.on("click",this.OnJoin,this)},OnShow:function(){this.node.active=!0,this.ClearNumber()},OnHide:function(){this.node.active=!1},OnJoin:function(){if(6!==this._input.length)return void Notify().Play("请输入六位房间号");var e=parseInt(this._input);GameSocket().Send("joinRoom",{roomId:e}),Notify().PlayWaitSrv()},ClearNumber:function(){this.inputLabel.string=a,this.inputLabel.fontSize=34,this._input=""},OnClickNumber:function(e,t){"-1"===t?this.ClearNumber():"-2"===t?this._input.length>0&&(this._input=this._input.substr(0,this._input.length-1),this.inputLabel.string=this._input,this.inputLabel.fontSize=40,0===this._input.length&&this.ClearNumber()):this._input.length<6&&(this._input+=t,this.inputLabel.string=this._input,this.inputLabel.fontSize=40)}}),cc._RF.pop()},{}],logger:[function(e,t,n){"use strict";cc._RF.push(t,"e0a4fVFnvZAf6ewZ9wPsgt1","logger");var a=e("sprintf"),i=function(){var e=new Date,t=a("%02d",e.getMonth()+1)+"/"+a("%02d",e.getDate())+" "+a("%02d",e.getHours())+":"+a("%02d",e.getMinutes())+" "+a("%02d",e.getSeconds())+"."+a("%03d",e.getMilliseconds()),n=Array.prototype.slice.call(arguments);n.unshift(t),console.log.apply(console,n),"undefined"!=typeof this.socket&&this.socket.connected===!0&&this.socket.send(JSON.stringify(n))};"undefined"!=typeof t&&(t.exports=i),cc._RF.pop()},{sprintf:"sprintf"}],loginHandler:[function(e,t,n){"use strict";cc._RF.push(t,"4817dMGh6RLyohQd05TGQHQ","loginHandler");var a=e("msgHandler"),i={};i.interest="loginMenuBack",i.Process=function(e){GameLog(e),GameData.loginMenu=e.slice(),GameEvent().SendEvent("LoginMenuBack")},a.Add(i);var o={};o.interest="homeButtonsBack",o.Process=function(e){GameLog(e),GameData.homeButtons=e.slice(),GameEvent().SendEvent("HomeButtonsBack")},a.Add(o);var r={};r.interest="enterGameBack",r.Process=function(e){GameLog(e),GameData.userId=e.userId,"guest"===e.loginType&&(GameData.userName=e.name,GameData.userHeadUrl=e.headUrl),GameData.validUniqueID=GameData.uniqueID,GameEvent().SendEvent("LoginSuccess")},a.Add(r),cc._RF.pop()},{msgHandler:"msgHandler"}],login:[function(e,t,n){"use strict";cc._RF.push(t,"88dbawpJVVCo53D5WyUOlgx","login"),
cc.Class({"extends":cc.Component,properties:{persistNodes:{"default":[],type:[cc.Node]},buttonsPnl:cc.Node,weixinBtn:cc.Button,guestBtn:cc.Button,wxWebView:cc.WebView},onLoad:function(){if("undefined"==typeof window.addPersistRootNode){for(var e=0;e<this.persistNodes.length;++e)cc.game.addPersistRootNode(this.persistNodes[e]);window.addPersistRootNode=!0}GameSocket().Connect(window.GameHost,window.GamePort),GameEvent().OnEvent("connectedServer",this.OnConnectedServer,this),GameEvent().OnEvent("LoginMenuBack",this.OnLoginMenu,this),GameEvent().OnEvent("LoginSuccess",this.OnLoginSuccess,this),GameEvent().OnEvent("ShowWXQRCode",this.OnShowWXQRCode,this),GameEvent().OnEvent("HideWXQRCode",this.OnHideWXQRCode,this),GameEvent().OnEvent("WeiXinAuthBack",this._WeiXinLogin,this),this.weixinBtn.node.active=!1,this.guestBtn.node.active=!1,this.wxWebView.node.actvie=!1;var t=AudioMng();t&&t.playLoginMusic()},OnConnectedServer:function(){GameSocket().IsConnected()&&GameSocket().Send("loginMenu",{version:window.GameVersion})},OnLoginMenu:function(){GameData.loginMenu.indexOf("weixin")>=0?this.weixinBtn.node.active=!0:this.weixinBtn.node.active=!1,GameData.loginMenu.indexOf("guest")>=0?this.guestBtn.node.active=!0:this.guestBtn.node.active=!1},_WeiXinLogin:function(){var e=WeiXin().unionid,t=WeiXin().nickName,n=WeiXin().headImgUrl;GameData.userName=t,GameData.userHeadUrl=n,GameData.uniqueID=e,GameSocket().Send("enterGame",{loginType:"weixin",uniqueID:e,name:t,headUrl:n})},onWeiXinLogin:function(){if(GameSocket().IsConnected()){if(cc.sys.isNative)WeiXin().SetCallBack(function(e){return e===!1?void Notify().Play("微信授权失败!"):void WeiXin().GetUserInfo(function(e){return e===!1?void Notify().Play("获取用户微信数据失败!"):void this._WeiXinLogin()}.bind(this))}.bind(this));else if(cc.sys.isMobile)return Notify().Play("手机版微信登录功能请在APP中使用!",!0),"undefined"!=typeof this.openDownloadHandle&&clearTimeout(this.openDownloadHandle),void(this.openDownloadHandle=setTimeout(function(){window.open("http://download.xychahu.com")},1e3));WeiXin().AuthRequest(),Notify().PlayWaitSrv()}},onGuestLogin:function(){GameSocket().IsConnected()&&(this.GetUniqueID(function(e){GameData.uniqueID=e,GameSocket().Send("enterGame",{loginType:"guest",uniqueID:e})}),Notify().PlayWaitSrv())},OnLoginSuccess:function(){cc.director.loadScene("home"),Notify().Continue()},GetUniqueID:function(t){if(cc.sys.isNative){if(cc.sys.os===cc.sys.OS_ANDROID){if(t){var n=jsb.reflection.callStaticMethod("org/openudid/OpenUDID_manager","getOpenUDID","()Ljava/lang/String;");GameLog("Android UDID: "+n),t(n)}}else if(cc.sys.os===cc.sys.OS_IOS&&t){var a=jsb.reflection.callStaticMethod("OpenUDID","value");t(a)}}else{var i=e("fingerprint2.min");(new i).get(function(e,n){t&&t(e)})}},OnShowWXQRCode:function(e){cc.sys.isNative||window.open(e.detail)},OnHideWXQRCode:function(){},update:function(e){WeiXin().CheckAuthCode()}}),cc._RF.pop()},{"fingerprint2.min":"fingerprint2.min"}],maskLayer:[function(e,t,n){"use strict";cc._RF.push(t,"512b9zEVb9Gra7wG2/BcLR9","maskLayer"),cc.Class({"extends":cc.Component,onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,function(e){})}}),cc._RF.pop()},{}],msgHandler:[function(e,t,n){"use strict";cc._RF.push(t,"1a8e5VGl3NB0rR66YUmzH58","msgHandler"),function(){var e={},n={};e.Add=function(e){"string"==typeof e.interest&&"function"==typeof e.Process?(n[e.interest]=e.Process,GameLog("Add handler :"+e.interest)):GameLog("error type of handler"+e)},e.Process=function(e){"string"==typeof e.type&&"function"==typeof n[e.type]?(GameLog("receive",e.type),n[e.type](e)):GameLog("invalid massage ->>"+e)},e.SocketRegister=function(e){var t=function(e,t,n){return function(a){return GameLog("receive : "+n),t.call(e,a)}};for(var a in n)"function"==typeof n[a]&&e.on(a,t(n[a],n[a],a))},"undefined"!=typeof t&&(t.exports=e),"undefined"!=typeof window&&(window.MessageHandler=e)}(),cc._RF.pop()},{}],notifyAnim:[function(e,t,n){"use strict";cc._RF.push(t,"55a7bWtepZGrpS+inltGuOs","notifyAnim");var a=cc.Class({"extends":cc.Component,properties:{lable:cc.Label,needWait:{"default":cc.False,type:cc.Boolean}},statics:{inst:null},onLoad:function(){a.inst=this,this._animCtrl=this.node.getComponent(cc.Animation),this.node.zIndex=1e3},onNeedExit:function(){this.needWait&&this._animCtrl.pause()},onExitAnim:function(){this.lable.string=""},Play:function(e,t){e!==this.lable.string&&("undefined"==typeof t||t===!1?this.needWait=!1:this.needWait=!0,this.lable.string=e,this._animCtrl.stop(),this._animCtrl.play())},PlayWaitSrv:function(){this.Play("正在努力连接服务器...",!0)},Continue:function(){this.needWait=!1,this._animCtrl.resume()}});cc._RF.pop()},{}],player:[function(e,t,n){"use strict";function a(){this.id=-1,this.place=-1,this.name="unknow",this.headUrl="",this.ready=!1,this.cards=null,this.pengCards=null,this.gangCards=null,this.niuCards=null,this.kanCards=null,this.jiangCards=null,this.outputCards=null,this.score=0,this.singleScore=0,this.totalScore=0,this.piao=!1}cc._RF.push(t,"da4c4zDWYlBqL/BEBkXgp4/","player"),a.prototype.Clear=function(){this.cards=null,this.pengCards=null,this.gangCards=null,this.niuCards=null,this.kanCards=null,this.jiangCards=null,this.outputCards=null,this.score=0,this.singleScore=0,this.piao=!1},a.prototype.Init=function(e,t,n,a){this.id=e,this.place=t,this.name=n,this.headUrl=a},"undefined"!=typeof t&&(t.exports=a),cc._RF.pop()},{}],reorderZIndex:[function(e,t,n){"use strict";cc._RF.push(t,"7a2c7XP+F5O2Ic3aRziR8b6","reorderZIndex"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){this.ReOrder()},ReOrder:function(){for(var e=this.node.children,t=0;t<e.length;++t)e[t].zIndex=e.length-t}}),cc._RF.pop()},{}],socket:[function(e,t,n){"use strict";function a(e){this.interest={},this.ws=e}cc._RF.push(t,"dbe65KrycZMm7si3aR2o8uo","socket");var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};a.prototype.Init=function(){this.ws.onopen=function(e){return function(t){"object"===i(e.interest)&&"function"==typeof e.interest.connect&&e.interest.connect(t)}}(this),this.ws.onerror=function(e){return function(t){"object"===i(e.interest)&&"function"==typeof e.interest.error&&e.interest.error(t)}}(this),this.ws.onclose=function(e){return function(t){"object"===i(e.interest)&&"function"==typeof e.interest.disconnect&&e.interest.disconnect(t)}}(this),this.ws.onmessage=function(e){return function(t){if("object"===i(e.interest)&&"string"==typeof t.data)if("function"==typeof e.interest[t.data])e.interest[t.data]();else try{console.log(t.data);var n=JSON.parse(t.data);"string"==typeof n.event&&"function"==typeof e.interest[n.event]&&e.interest[n.event](n.data)}catch(a){console.log(a)}}}(this)},a.prototype.on=function(e,t){this.interest[e]=t},a.prototype.disconnect=function(){this.ws.terminate()},a.prototype.emit=function(e,t){var n={event:e};"undefined"!=typeof t&&null!==t&&(n.data=t),this.ws.send(JSON.stringify(n))},a.prototype.send=function(e){"string"==typeof e&&this.ws.send(e)};var o=function(){this.init=!1};o.prototype.Init=function(){this.init=!0,this.doReconnect=!1,this.connected=!1,this.socket=null,this.pingInterval=0,this.firstConnected=!0},o.prototype.Connect=function(e,t,n){var i=this;if(!i.connected){i.address=e,i.port=t,i.router=n;try{var o=new WebSocket("ws://"+e+":"+t+"/"+("undefined"!=typeof n?n:""));i.socket=new a(o);var r=i.socket;r.Init();var s=(new Date).getTime(),c=setInterval(function(){s=(new Date).getTime(),i.socket&&i.connected===!0&&i.socket.emit("heartbeat")},1e5);r.on("clientJoin",function(e){}),r.on("clientDisconnect",function(e){}),r.on("heartbeatBack",function(){var e=(new Date).getTime()-s;i.pingInterval=e}),r.on("connect",function(){i.connected=!0,GameLog("连接成功"),Notify().Continue(),i.firstConnected===!1?GameEvent().SendEvent("reconnectedServer"):GameEvent().SendEvent("connectedServer"),i.firstConnected=!1}),r.on("disconnect",function(){i.firstConnected===!1||i.doReconnect?Notify().Play("与服务器断开链接,努力重连接中!",!0):Notify().Play("请检查网络链接状态!",!0);i.connected;i.connected=!1,GameEvent().SendEvent("disconnectedServer"),GameLog("你已和服务器断开链接."),c&&(clearInterval(c),c=null),i.Reconnect()}),r.on("error",function(e){GameEvent().SendEvent("socket throw error"),GameLog("webSocket throw a error"+e)}),MessageHandler.SocketRegister(r)}catch(d){GameLog(d)}}},o.prototype.Reconnect=function(){setTimeout(function(){Notify().PlayWaitSrv(),this.doReconnect=!0,this.Connect(this.address,this.port,this.router)}.bind(this),5e3)},o.prototype.IsConnected=function(){return this.connected},o.prototype.OnReceiveMessage=function(e){var t=e.data;console.log("Receive data:"+t);try{var n=JSON.parse(t);MessageHandler.Process(n)}catch(e){GameLog(e)}},o.prototype.Send=function(e,t){this.connected&&this.socket.emit(e,t)},"undefined"!=typeof t&&(t.exports=new o),cc._RF.pop()},{}],sprintf:[function(e,t,n){"use strict";cc._RF.push(t,"63b1dSfvitCh55Wi9ibKNZ0","sprintf");var a={init:function(){if("undefined"==typeof arguments)return null;if(arguments.length<1)return null;if("string"!=typeof arguments[0])return null;if("undefined"==typeof RegExp)return null;for(var e=arguments[0],t=new RegExp(/(%([%]|(\-)?(\+|\x20)?(0)?(\d+)?(\.(\d)?)?([bcdfosxX])))/g),n=new Array,i=new Array,o=0,r=0,s=0,c=0,d="",l=null,h="";l=t.exec(e);)l[9]&&(o+=1),r=c,s=t.lastIndex-l[0].length,i[i.length]=e.substring(r,s),c=t.lastIndex,n[n.length]={match:l[0],left:!!l[3],sign:l[4]||"",pad:l[5]||" ",min:l[6]||0,precision:l[8],code:l[9]||"%",negative:parseInt(arguments[o])<0,argument:String(arguments[o])};if(i[i.length]=e.substring(c),0==n.length)return e;if(arguments.length-1<o)return null;var l=null,u=null;for(u=0;u<n.length;u++)"%"==n[u].code?h="%":"b"==n[u].code?(n[u].argument=String(Math.abs(parseInt(n[u].argument)).toString(2)),h=a.convert(n[u],!0)):"c"==n[u].code?(n[u].argument=String(String.fromCharCode(parseInt(Math.abs(parseInt(n[u].argument))))),h=a.convert(n[u],!0)):"d"==n[u].code?(n[u].argument=String(Math.abs(parseInt(n[u].argument))),h=a.convert(n[u])):"f"==n[u].code?(n[u].argument=String(Math.abs(parseFloat(n[u].argument)).toFixed(n[u].precision?n[u].precision:6)),h=a.convert(n[u])):"o"==n[u].code?(n[u].argument=String(Math.abs(parseInt(n[u].argument)).toString(8)),h=a.convert(n[u])):"s"==n[u].code?(n[u].argument=n[u].argument.substring(0,n[u].precision?n[u].precision:n[u].argument.length),h=a.convert(n[u],!0)):"x"==n[u].code?(n[u].argument=String(Math.abs(parseInt(n[u].argument)).toString(16)),h=a.convert(n[u])):"X"==n[u].code?(n[u].argument=String(Math.abs(parseInt(n[u].argument)).toString(16)),h=a.convert(n[u]).toUpperCase()):h=n[u].match,d+=i[u],d+=h;return d+=i[u]},convert:function(e,t){t?e.sign="":e.sign=e.negative?"-":e.sign;var n=e.min-e.argument.length+1-e.sign.length,a=new Array(n<0?0:n).join(e.pad);return e.left?"0"==e.pad||t?e.sign+e.argument+a.replace(/0/g," "):e.sign+e.argument+a:"0"==e.pad||t?e.sign+a+e.argument:a+e.sign+e.argument}},i=a.init;"undefined"!=typeof t&&(t.exports=i),cc._RF.pop()},{}],start:[function(e,t,n){"use strict";cc._RF.push(t,"4f813T7oLhJpafLozAqjFX7","start"),cc.Class({"extends":cc.Component,properties:{},onLoad:function(){var e=cc.sys.isNative;CreateLogger(e),LoadAllCardSpriteFrame()}}),cc._RF.pop()},{}],weiXin:[function(e,t,n){"use strict";function a(){this.access_token="",this.refresh_token="",this.openid="",this.unionid="",this.nickName="",this.sex=2,this.headImgUrl="",this.needCheckWebAuth=!1,this.checkWebAuthBack=!0}cc._RF.push(t,"53183wn9N5DNafsFgUPYZjd","weiXin");var i="wxeafaeaed7398f8b5",o="wxdccb3ab1cddcf843";a.prototype.Init=function(){},a.prototype.AuthRequest=function(){if(!cc.sys.isNative)return void this.WebAuthCode();if(cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS){if(this.access_token=cc.sys.localStorage.getItem("wx_access_token"),this.refresh_token=cc.sys.localStorage.getItem("wx_refresh_token"),this.openid=cc.sys.localStorage.getItem("wx_openid"),this.unionid=cc.sys.localStorage.getItem("wx_unionid"),null===this.access_token||null===this.refresh_token)return GameLog("重新微信授权"),void jsb.reflection.callStaticMethod("AppController","sendAuthRequest");GameLog(this.access_token+" "+this.refresh_token),this.IsNeedRefreshAccessToken(function(e){e?(GameLog("不需要新access_token"),"function"==typeof this.callback&&this.callback(!0)):this.RefreshAccessToken(cc.sys.isNative,function(e){e?(GameLog("刷新access_token"),"function"==typeof this.callback&&this.callback(!0)):(GameLog("重新微信授权"),jsb.reflection.callStaticMethod("AppController","sendAuthRequest"))}.bind(this))}.bind(this))}},a.prototype.WebAuthCode=function(){this.sid=Math.random();var e="https://open.weixin.qq.com/connect/qrconnect?appid="+i+"&redirect_uri=http%3A%2F%2Fchahu.h5ii.com%3A18081%2FwebAuthCode&response_type=code&scope=snsapi_login&state="+this.sid+"#wechat_redirect";GameEvent().SendEvent("ShowWXQRCode",e),this.needCheckWebAuth=!0},a.prototype.CheckAuthCode=function(){if(this.needCheckWebAuth){if(this.checkWebAuthBack===!1)return;var e="http://chahu.h5ii.com:18081/queryWebAuthCode?sid="+this.sid,t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==t.readyState&&t.status>=200&&t.status<400){var e=t.responseText;if(e.length>0){this.needCheckWebAuth=!1;var n=JSON.parse(e);"undefined"==typeof n.errcode&&(this.unionid=n.unionid,this.nickName=n.nickname,this.sex=n.sex,this.headImgUrl=n.headimgurl,"string"==typeof this.headImgUrl&&this.headImgUrl.length>2&&"0"===this.headImgUrl[this.headImgUrl.length-1]&&"/"===this.headImgUrl[this.headImgUrl.length-2]&&(this.headImgUrl=this.headImgUrl.substr(0,this.headImgUrl.length-1),this.headImgUrl+="96"),GameEvent().SendEvent("WeiXinAuthBack"))}this.checkWebAuthBack=!0}}.bind(this),t.open("GET",e,!0),t.send(),this.checkWebAuthBack=!1}},a.prototype.SetCallBack=function(e){this.callback=e},a.prototype.GetCallBack=function(){return this.callback},a.prototype.CodeToAccessToken=function(e,t,n){var a="http://chahu.h5ii.com:18081";a+=e===!0?"/native/access_token?code="+t:"/web/access_token?code="+t;var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&i.status>=200&&i.status<400){var e=i.responseText,t=JSON.parse(e);"undefined"==typeof t.errcode&&(this.access_token=t.access_token,this.refresh_token=t.refresh_token,this.openid=t.openid,this.unionid=t.unionid,cc.sys.localStorage.setItem("wx_access_token",this.access_token),cc.sys.localStorage.setItem("wx_refresh_token",this.refresh_token),cc.sys.localStorage.setItem("wx_openid",this.openid),cc.sys.localStorage.setItem("wx_unionid",this.unionid)),"function"==typeof n&&n("undefined"==typeof t.errcode)}}.bind(this),i.open("GET",a,!0),i.send()},a.prototype.IsNeedRefreshAccessToken=function(e){var t="https://api.weixin.qq.com/sns/auth?access_token="+this.access_token+"&openid="+this.openid,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var t=n.responseText;GameLog(t);var a=JSON.parse(t);"function"==typeof e&&e(0===a.errcode)}},n.open("GET",t,!0),n.send()},a.prototype.RefreshAccessToken=function(e,t){var n="https://api.weixin.qq.com/sns/oauth2/refresh_token?appid="+(e===!0?o:i)+"&grant_type=refresh_token&refresh_token="+this.refresh_token,a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&a.status>=200&&a.status<400){var e=a.responseText,n=JSON.parse(e);"undefined"==typeof n.errcode&&(this.access_token=n.access_token,this.refresh_token=n.refresh_token,this.openid=n.openid,this.unionid=n.unionid,cc.sys.localStorage.setItem("wx_access_token",this.access_token),cc.sys.localStorage.setItem("wx_refresh_token",this.refresh_token),cc.sys.localStorage.setItem("wx_openid",this.openid),cc.sys.localStorage.setItem("wx_unionid",this.unionid)),"function"==typeof t&&t("undefined"==typeof n.errcode)}}.bind(this),a.open("GET",n,!0),a.send()},a.prototype.GetUserInfo=function(e){var t="https://api.weixin.qq.com/sns/userinfo?access_token="+this.access_token+"&openid="+this.openid,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState&&n.status>=200&&n.status<400){var t=n.responseText;GameLog(t);var a=JSON.parse(t);"undefined"==typeof a.errcode&&(this.unionid=a.unionid,this.nickName=a.nickname,this.sex=a.sex,this.headImgUrl=a.headimgurl,"string"==typeof this.headImgUrl&&this.headImgUrl.length>2&&"0"===this.headImgUrl[this.headImgUrl.length-1]&&"/"===this.headImgUrl[this.headImgUrl.length-2]&&(this.headImgUrl=this.headImgUrl.substr(0,this.headImgUrl.length-1),this.headImgUrl+="96")),"function"==typeof e&&e("undefined"==typeof a.errcode)}}.bind(this),n.open("GET",t,!0),n.send()},a.prototype.InviteFriend=function(e){cc.sys.isNative&&cc.sys.os!==cc.sys.OS_ANDROID&&cc.sys.os===cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("AppController","shareWithWeixinFriendTxt:txt:url:","查虎麻将[房号:"+e+"]","规则:xxx yyy zzz/n圈数:n圈/荤底:20","http://download.xychahu.com/index.html?scheme=xiyichahu&roomid="+e)},"undefined"!=typeof t&&(t.exports=a),cc._RF.pop()},{}]},{},["AudioMng","gameData","gameEvent","all","errorHandler","gameHandler","loginHandler","hotUpdate","ButtonScaler","ButtonSound","maskLayer","notifyAnim","reorderZIndex","Utility","Voice","fingerprint2.min","logger","msgHandler","player","socket","sprintf","weiXin","start","accounts","createRoom","description","game","home","joinRoom","login"]);